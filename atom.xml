<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ly.blog</title>
  
  <subtitle>问渠哪得清如许 为有源头活水来</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.wbug.cn/"/>
  <updated>2020-06-03T10:05:16.235Z</updated>
  <id>http://www.wbug.cn/</id>
  
  <author>
    <name>ly</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>php7.4.4扩展开发</title>
    <link href="http://www.wbug.cn/2020/06/03/php-ext/"/>
    <id>http://www.wbug.cn/2020/06/03/php-ext/</id>
    <published>2020-06-03T09:17:53.000Z</published>
    <updated>2020-06-03T10:05:16.235Z</updated>
    
    <content type="html"><![CDATA[<h2 id="编写步骤"><a href="#编写步骤" class="headerlink" title="编写步骤"></a>编写步骤</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">mkdir /test</span><br><span class="line"></span><br><span class="line">cd /test</span><br><span class="line"></span><br><span class="line">wget -O https://www.php.net/distributions/php-7.4.4.tar.bz2</span><br><span class="line"></span><br><span class="line">tar -jxvf php-7.4.4.tar.bz2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cd php7.4.4/ext</span><br><span class="line"></span><br><span class="line">php ext_skel.php --ext my_test</span><br><span class="line"></span><br><span class="line">cd my_test</span><br><span class="line"></span><br><span class="line">vim my_test.c</span><br><span class="line"></span><br><span class="line">增加 自定义函数</span><br><span class="line"></span><br><span class="line">PHP_FUNCTION(demo_test)&#123;</span><br><span class="line">// ZEND_PARSE_PARAMETERS_NOME();</span><br><span class="line">php_printf(&quot;The extension %s is loaded and working!\r\n&quot;,&quot;my_test&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">找到以下代码并修改</span><br><span class="line"></span><br><span class="line">static const zend_function_entry my_test_functions[] = &#123;</span><br><span class="line">PHP_FE(my_test,NULL)</span><br><span class="line">PHP_FE(my_test_test1,arginfo_my_test_test1)</span><br><span class="line">PHP_FE(my_test_test2,arginfo_my_test_test2)</span><br><span class="line">PHP_FE_END</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>修改完执行以下操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/php74/bin/phpize</span><br><span class="line"></span><br><span class="line">./configure --with-php-config=/usr/bin/php74/bin/php-config</span><br><span class="line"></span><br><span class="line">make </span><br><span class="line"></span><br><span class="line">make test</span><br><span class="line"></span><br><span class="line">make install </span><br><span class="line"></span><br><span class="line">编辑php.ini</span><br><span class="line"></span><br><span class="line">查看php配置文件 /usr/bin/php74/bin/php -i |grep php.ini</span><br><span class="line"></span><br><span class="line">增加扩展： extension=my_test.so</span><br><span class="line"></span><br><span class="line">查看扩展</span><br><span class="line"></span><br><span class="line">/usr/bin/php74/bin/php -m </span><br><span class="line"></span><br><span class="line">测试新加函数</span><br><span class="line"></span><br><span class="line">/usr/bin/php74/bin/php -r &quot;my_test();&quot;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;编写步骤&quot;&gt;&lt;a href=&quot;#编写步骤&quot; class=&quot;headerlink&quot; title=&quot;编写步骤&quot;&gt;&lt;/a&gt;编写步骤&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr
      
    
    </summary>
    
      <category term="php" scheme="http://www.wbug.cn/categories/php/"/>
    
    
      <category term="php" scheme="http://www.wbug.cn/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>mysql 大数据查询分页</title>
    <link href="http://www.wbug.cn/2019/05/14/book/"/>
    <id>http://www.wbug.cn/2019/05/14/book/</id>
    <published>2019-05-14T09:10:41.000Z</published>
    <updated>2019-05-14T03:07:43.549Z</updated>
    
    <content type="html"><![CDATA[<h2 id="mysql-数据量过大-导致分页查询过慢解决办法"><a href="#mysql-数据量过大-导致分页查询过慢解决办法" class="headerlink" title="mysql 数据量过大, 导致分页查询过慢解决办法"></a>mysql 数据量过大, 导致分页查询过慢解决办法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DB::select(&quot;select a.title,a.name from </span><br><span class="line">(SELECT `id` FROM `article`  WHERE `status` = ? AND `updated_at` &gt; ? LIMIT ? OFFSET ? ) c </span><br><span class="line">LEFT JOIN article a ON a.id = c.id </span><br><span class="line">LEFT JOIN `detail` AS `ab` ON `a`.`id` = `ab`.`article_id` &quot;,[1,&apos;2018-12-01&apos;,$limit,$offset]</span><br></pre></td></tr></table></figure><h2 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * updateBigDataBySql 用SQL拼接批量更新</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> array $multipleData 更新数据</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> bool|int</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">updateBigDataBySql</span><span class="params">($multipleData = [])</span></span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">empty</span>($multipleData)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> \<span class="keyword">Exception</span>(<span class="string">"数据不能为空"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        $tableName = <span class="keyword">$this</span>-&gt;model-&gt;getTable(); </span><br><span class="line">        $firstRow  = current($multipleData);</span><br><span class="line"></span><br><span class="line">        $updateColumn = array_keys($firstRow);</span><br><span class="line">        <span class="comment">// 默认以id为条件更新，如果没有ID则以第一个字段为条件</span></span><br><span class="line">        $referenceColumn = <span class="keyword">isset</span>($firstRow[<span class="string">'id'</span>]) ? <span class="string">'id'</span> : current($updateColumn);</span><br><span class="line">        <span class="keyword">unset</span>($updateColumn[<span class="number">0</span>]);</span><br><span class="line">        <span class="comment">// 拼接sql语句</span></span><br><span class="line">        $updateSql = <span class="string">"UPDATE "</span> . $tableName . <span class="string">" SET "</span>;</span><br><span class="line">        $sets      = [];</span><br><span class="line">        $bindings  = [];</span><br><span class="line">        <span class="keyword">foreach</span> ($updateColumn <span class="keyword">as</span> $uColumn) &#123;</span><br><span class="line">            $setSql = <span class="string">"`"</span> . $uColumn . <span class="string">"` = CASE "</span>;</span><br><span class="line">            <span class="keyword">foreach</span> ($multipleData <span class="keyword">as</span> $data) &#123;</span><br><span class="line">                $setSql .= <span class="string">"WHEN `"</span> . $referenceColumn . <span class="string">"` = ? THEN ? "</span>;</span><br><span class="line">                $bindings[] = $data[$referenceColumn];</span><br><span class="line">                $bindings[] = $data[$uColumn];</span><br><span class="line">            &#125;</span><br><span class="line">            $setSql .= <span class="string">"ELSE `"</span> . $uColumn . <span class="string">"` END "</span>;</span><br><span class="line">            $sets[] = $setSql;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $updateSql .= implode(<span class="string">', '</span>, $sets);</span><br><span class="line">        $whereIn   = collect($multipleData)-&gt;pluck($referenceColumn)-&gt;values()-&gt;all();</span><br><span class="line">        $bindings  = array_merge($bindings, $whereIn);</span><br><span class="line">        $whereIn   = rtrim(str_repeat(<span class="string">'?,'</span>, count($whereIn)), <span class="string">','</span>);</span><br><span class="line">        $updateSql = rtrim($updateSql, <span class="string">", "</span>) . <span class="string">" WHERE `"</span> . $referenceColumn . <span class="string">"` IN ("</span> . $whereIn . <span class="string">")"</span>;</span><br><span class="line">        <span class="comment">// 传入预处理sql语句和对应绑定数据</span></span><br><span class="line">        <span class="keyword">return</span> DB::update($updateSql, $bindings);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (\<span class="keyword">Exception</span> $e) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;mysql-数据量过大-导致分页查询过慢解决办法&quot;&gt;&lt;a href=&quot;#mysql-数据量过大-导致分页查询过慢解决办法&quot; class=&quot;headerlink&quot; title=&quot;mysql 数据量过大, 导致分页查询过慢解决办法&quot;&gt;&lt;/a&gt;mysql 数据量过大, 
      
    
    </summary>
    
    
      <category term="laravel" scheme="http://www.wbug.cn/tags/laravel/"/>
    
  </entry>
  
  <entry>
    <title>mysql 生成备份文件</title>
    <link href="http://www.wbug.cn/2019/05/13/app/"/>
    <id>http://www.wbug.cn/2019/05/13/app/</id>
    <published>2019-05-13T03:50:26.000Z</published>
    <updated>2019-05-13T03:51:53.709Z</updated>
    
    <content type="html"><![CDATA[<p>#脚本如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">#! /bin/bash</span><br><span class="line"></span><br><span class="line">#host</span><br><span class="line">host=&quot;127.0.0.1&quot;</span><br><span class="line"># uname</span><br><span class="line">user=&quot;root&quot;</span><br><span class="line"># pwd</span><br><span class="line">userPWD=&quot;123456&quot;</span><br><span class="line">#port</span><br><span class="line">port=&quot;3306&quot;</span><br><span class="line"></span><br><span class="line"># dbnames</span><br><span class="line">dbNames=(dbName1 dbName2)</span><br><span class="line"></span><br><span class="line"># now time</span><br><span class="line">NOW=`date -d &quot;now&quot; +%Y%m%d%H`</span><br><span class="line"></span><br><span class="line"># back path</span><br><span class="line">back_path=/var/wwwroot/mysql/$NOW</span><br><span class="line"></span><br><span class="line"># create new back data directory</span><br><span class="line">mkdir $back_path</span><br><span class="line"># Add authority to execute</span><br><span class="line">chmod -R 777 $back_path</span><br><span class="line"></span><br><span class="line"># When to Back up Data (one day ago)</span><br><span class="line">whenDel=`date -d &quot;-1 day&quot; +%Y%m%d%H`</span><br><span class="line"></span><br><span class="line">del_path=/var/wwwroot/mysql/$whenDel</span><br><span class="line"></span><br><span class="line"># </span><br><span class="line">if [ -d $del_path ];</span><br><span class="line">    then</span><br><span class="line">        rm -rf $del_path</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"># backup </span><br><span class="line">for dbName in $&#123;dbNames[*]&#125;</span><br><span class="line">do</span><br><span class="line">    dumpSqlFile=$dbName-$back_path.sql.gz</span><br><span class="line">    mysqldump -h$host:$port -u$user -p$userPWD $dbName | gzip &gt; $back_path/$dumpSqlFile</span><br><span class="line">done</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;#脚本如下&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;b
      
    
    </summary>
    
      <category term="mysql" scheme="http://www.wbug.cn/categories/mysql/"/>
    
    
      <category term="备份文件、mysql" scheme="http://www.wbug.cn/tags/%E5%A4%87%E4%BB%BD%E6%96%87%E4%BB%B6%E3%80%81mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql容量查询</title>
    <link href="http://www.wbug.cn/2018/12/04/mysql-select-size/"/>
    <id>http://www.wbug.cn/2018/12/04/mysql-select-size/</id>
    <published>2018-12-04T08:32:39.000Z</published>
    <updated>2018-12-04T08:45:18.946Z</updated>
    
    <content type="html"><![CDATA[<h2 id="查看所有数据库容量大小"><a href="#查看所有数据库容量大小" class="headerlink" title="查看所有数据库容量大小"></a>查看所有数据库容量大小</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">table_schema <span class="keyword">as</span> <span class="string">`database`</span>,</span><br><span class="line"><span class="keyword">sum</span>(table_rows) <span class="keyword">as</span> <span class="string">`records`</span>,</span><br><span class="line"><span class="keyword">sum</span>(<span class="keyword">truncate</span>(data_length/<span class="number">1024</span>/<span class="number">1024</span>, <span class="number">2</span>)) <span class="keyword">as</span> <span class="string">'dataLength(MB)'</span>,</span><br><span class="line"><span class="keyword">sum</span>(<span class="keyword">truncate</span>(index_length/<span class="number">1024</span>/<span class="number">1024</span>, <span class="number">2</span>)) <span class="keyword">as</span> <span class="string">'indexLength(MB)'</span></span><br><span class="line"><span class="keyword">from</span> information_schema.tables</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> table_schema</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">sum</span>(data_length) <span class="keyword">desc</span>, <span class="keyword">sum</span>(index_length) <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure><h2 id="查看所有数据库各表容量大小"><a href="#查看所有数据库各表容量大小" class="headerlink" title="查看所有数据库各表容量大小"></a>查看所有数据库各表容量大小</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">table_schema <span class="keyword">as</span> <span class="string">'database'</span>,</span><br><span class="line">table_name <span class="keyword">as</span> <span class="string">'table_name'</span>,</span><br><span class="line">table_rows <span class="keyword">as</span> <span class="string">'records'</span>,</span><br><span class="line"><span class="keyword">truncate</span>(data_length/<span class="number">1024</span>/<span class="number">1024</span>, <span class="number">2</span>) <span class="keyword">as</span> <span class="string">'dataLength(MB)'</span>,</span><br><span class="line"><span class="keyword">truncate</span>(index_length/<span class="number">1024</span>/<span class="number">1024</span>, <span class="number">2</span>) <span class="keyword">as</span> <span class="string">'indexLength(MB)'</span></span><br><span class="line"><span class="keyword">from</span> information_schema.tables</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> data_length <span class="keyword">desc</span>, index_length <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure><h2 id="查看指定数据库容量大小"><a href="#查看指定数据库容量大小" class="headerlink" title="查看指定数据库容量大小"></a>查看指定数据库容量大小</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">table_schema <span class="keyword">as</span> <span class="string">'database'</span>,</span><br><span class="line"><span class="keyword">sum</span>(table_rows) <span class="keyword">as</span> <span class="string">'records'</span>,</span><br><span class="line"><span class="keyword">sum</span>(<span class="keyword">truncate</span>(data_length/<span class="number">1024</span>/<span class="number">1024</span>, <span class="number">2</span>)) <span class="keyword">as</span> <span class="string">'dataLength(MB)'</span>,</span><br><span class="line"><span class="keyword">sum</span>(<span class="keyword">truncate</span>(index_length/<span class="number">1024</span>/<span class="number">1024</span>, <span class="number">2</span>)) <span class="keyword">as</span> <span class="string">'indexLength(MB)'</span></span><br><span class="line"><span class="keyword">from</span> information_schema.tables</span><br><span class="line"><span class="keyword">where</span> table_schema=<span class="string">'mysql'</span>;</span><br></pre></td></tr></table></figure><h2 id="查看指定数据库各表容量大小"><a href="#查看指定数据库各表容量大小" class="headerlink" title="查看指定数据库各表容量大小"></a>查看指定数据库各表容量大小</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> </span><br><span class="line">table_schema <span class="keyword">as</span> <span class="string">'database'</span>,</span><br><span class="line">table_name <span class="keyword">as</span> <span class="string">'table_name'</span>,</span><br><span class="line">table_rows <span class="keyword">as</span> <span class="string">'records'</span>,</span><br><span class="line"><span class="keyword">truncate</span>(data_length/<span class="number">1024</span>/<span class="number">1024</span>, <span class="number">2</span>) <span class="keyword">as</span> <span class="string">'dataLength(MB)'</span>,</span><br><span class="line"><span class="keyword">truncate</span>(index_length/<span class="number">1024</span>/<span class="number">1024</span>, <span class="number">2</span>) <span class="keyword">as</span> <span class="string">'indexLength(MB)'</span></span><br><span class="line"><span class="keyword">from</span> information_schema.tables</span><br><span class="line"><span class="keyword">where</span> table_schema=<span class="string">'mysql'</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> data_length <span class="keyword">desc</span>, index_length <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;查看所有数据库容量大小&quot;&gt;&lt;a href=&quot;#查看所有数据库容量大小&quot; class=&quot;headerlink&quot; title=&quot;查看所有数据库容量大小&quot;&gt;&lt;/a&gt;查看所有数据库容量大小&lt;/h2&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;
      
    
    </summary>
    
      <category term="mysql" scheme="http://www.wbug.cn/categories/mysql/"/>
    
    
      <category term="mysql" scheme="http://www.wbug.cn/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql主从复制实现</title>
    <link href="http://www.wbug.cn/2018/12/03/mysql-master-slave/"/>
    <id>http://www.wbug.cn/2018/12/03/mysql-master-slave/</id>
    <published>2018-12-03T07:43:22.000Z</published>
    <updated>2018-12-03T09:01:40.638Z</updated>
    
    <content type="html"><![CDATA[<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><ul><li>mysql要做到主从复制，其实依靠的是二进制日志，即：假设主服务器叫A，从服务器叫B；主从复制就是B跟着A学，A做什么，B就做什么。那么B怎么同步A的动作呢？现在A有一个日志功能，把自己所做的增删改查的动作全都记录在日志中，B只需要拿到这份日志，照着日志上面的动作施加到自己身上就可以了。这样就实现了主从复制。</li></ul><h2 id="实现步骤"><a href="#实现步骤" class="headerlink" title="实现步骤"></a>实现步骤</h2><p>1.步骤1 </p><ul><li>打开主服务器(master)mysql配置文件 例：/etc/my.ini</li><li><p>在配置文件增加三行</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">### 将mysql二进制日志取名为mysql-bin</span><br><span class="line">log-bin=mysql-bin  </span><br><span class="line">### 二进制日志的格式，有三种：statement/row/mixed,具体分别不多做解释，这里使用mixed</span><br><span class="line">binlog_format=mixed </span><br><span class="line">### 为服务器设置一个独一无二的id便于区分</span><br><span class="line">server-id=100</span><br></pre></td></tr></table></figure></li><li><p>重启mysql</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld restart</span><br></pre></td></tr></table></figure></li><li><p>配置从服务器，与上面一样，不过 server-id要换成 200,这个值你随便设置 在1-2^23之间</p></li></ul><p>2.步骤2</p><ul><li>为从服务器设置一个可以同步复制主服务器日志的权限</li><li>命令<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#### 先登陆mysql</span><br><span class="line">mysql -u root -p ******</span><br><span class="line">#### 分配权限 replication slave：分配复制权限 *.*:操作哪个数据库 slave:用户名 %：哪个主机 pass:密码</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">replication</span> <span class="keyword">slave</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="string">'slave'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'pass'</span>;</span><br></pre></td></tr></table></figure></li></ul><p>3.步骤3</p><ul><li>查看主服务器BIN日志的信息<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#### 配置完从服务器之前不要对主服务器进行任何操作，因为每次操作数据库时这两值会发生改变</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">master</span> <span class="keyword">status</span>;</span><br><span class="line">#### 记住`File` 与 Position的值，下面第四步mysql_log_file,与mysql_log_pos要使用.</span><br></pre></td></tr></table></figure></li></ul><p>4.步骤4</p><ul><li><p>配置从服务器</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#### 先看下从服务器状态</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">slave</span> <span class="keyword">status</span>;</span><br><span class="line">#### 如果存在则执行：</span><br><span class="line"><span class="keyword">stop</span> <span class="keyword">slave</span>;</span><br><span class="line">#### 设置</span><br><span class="line"><span class="keyword">change</span> <span class="keyword">master</span> <span class="keyword">to</span> master_host=<span class="string">"192.168.1.100"</span>,master_user=<span class="string">"uname"</span>,matser_password=<span class="string">"pass"</span>,mysql_log_file=<span class="string">"mysql-bin-0600"</span>,mysql_log_pos=<span class="number">876</span>;</span><br></pre></td></tr></table></figure></li><li><p>参数解释：</p></li><li><code>master_host</code> :设置要连接的主服务器的ip地址 </li><li><code>master_user</code> :设置要连接的主服务器的用户名 </li><li><code>matser_password</code> :设置要连接的主服务器的密码</li><li><code>mysql_log_file</code> :设置要连接的主服务器的bin日志的日志名称，即第3步得到的信息</li><li><code>mysql_log_pos</code> :设置要连接的主服务器的bin日志的记录位置，即第3步得到的信息，（这里注意，最后一项不需要加引号。否则配置失败</li></ul><p>5.查看是否成功<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">master</span> <span class="keyword">status</span>;</span><br><span class="line">#### 成功会提示 Slave_IO_Running: yes | Slave_sql_Running yes</span><br></pre></td></tr></table></figure></p><h2 id="mysql日志的三种模式"><a href="#mysql日志的三种模式" class="headerlink" title="mysql日志的三种模式"></a>mysql日志的三种模式</h2><p>1.基于SQL语句的复制(statement-based replication,SBR) <code>binlog_format=statement</code></p><ul><li>每一条会修改数据的sql都会记录在binlog中。</li></ul><p>2.基于行的复制(row-based replication,RBR) <code>binlog_format=row</code></p><ul><li>它不记录sql语句上下文相关信息，仅保存哪条记录被修改</li></ul><p>3.混合模式复制(mixed-based replication,MBR) <code>binlog_format=mixed</code></p><ul><li>一般的语句修改使用statment格式保存binlog，如一些函数，statement无法完成主从复制的操作，则采用row格式保存binlog，MySQL会根据执行的每一条具体的sql语句来区分对待记录的日志形式，也就是在Statement和Row之间选择一种</li></ul><p>4.binlog相关命令<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#### 查看使用的模式</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">variables</span> <span class="keyword">like</span> <span class="string">'binlog_format'</span></span><br><span class="line">#### 查看是否开启<span class="keyword">binlog</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">variables</span> <span class="keyword">like</span> <span class="string">'log_bin'</span></span><br><span class="line">#### 获取<span class="keyword">binlog</span>文件列表</span><br><span class="line"><span class="keyword">show</span> <span class="built_in">binary</span> <span class="keyword">logs</span></span><br><span class="line">#### 查看当前正在写入的<span class="keyword">binlog</span>文件</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">master</span> <span class="keyword">status</span></span><br><span class="line">#### 查看<span class="keyword">master</span>上的<span class="keyword">binlog</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">master</span> <span class="keyword">logs</span></span><br><span class="line">#### 只查看第一个<span class="keyword">binlog</span>文件的内容</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">binlog</span> <span class="keyword">events</span></span><br><span class="line">#### 查看指定<span class="keyword">binlog</span>文件的内容</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">binlog</span> <span class="keyword">events</span> <span class="keyword">in</span> <span class="string">'mysql-bin.000002'</span></span><br><span class="line">####日志被刷新时，新生成一个日志文件</span><br><span class="line"><span class="keyword">flush</span> <span class="keyword">logs</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;原理&quot;&gt;&lt;a href=&quot;#原理&quot; class=&quot;headerlink&quot; title=&quot;原理&quot;&gt;&lt;/a&gt;原理&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;mysql要做到主从复制，其实依靠的是二进制日志，即：假设主服务器叫A，从服务器叫B；主从复制就是B跟着A学，A做什么，B就做什
      
    
    </summary>
    
      <category term="mysql" scheme="http://www.wbug.cn/categories/mysql/"/>
    
    
      <category term="mysql" scheme="http://www.wbug.cn/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>http状态码一览</title>
    <link href="http://www.wbug.cn/2018/11/21/httpCode/"/>
    <id>http://www.wbug.cn/2018/11/21/httpCode/</id>
    <published>2018-11-21T04:39:54.000Z</published>
    <updated>2018-11-21T04:50:38.562Z</updated>
    
    <content type="html"><![CDATA[<h2 id="http状态吗及解释，英文版"><a href="#http状态吗及解释，英文版" class="headerlink" title="http状态吗及解释，英文版"></a>http状态吗及解释，英文版</h2><h3 id="1xx"><a href="#1xx" class="headerlink" title="1xx"></a>1xx</h3><table><thead><tr><th style="text-align:right">code</th><th style="text-align:left">reason</th><th style="text-align:left">description</th><th style="text-align:left">spec</th></tr></thead><tbody><tr><td style="text-align:right"><code>1xx</code></td><td style="text-align:left"><strong>Informational</strong></td><td style="text-align:left">“indicates an interim response for communicating connection status or request progress prior to completing the requested action and sending a final response.” ~ <a href="http://www.urbandictionary.com/define.php?term=sure" target="_blank" rel="noopener">sure</a></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.2" target="_blank" rel="noopener">RFC7231#6.2</a>,<br> <a href="https://tools.ietf.org/html/rfc2616#section-10.1" target="_blank" rel="noopener">RFC2616#10.1</a></td></tr><tr><td style="text-align:right"><code>100</code></td><td style="text-align:left">Continue</td><td style="text-align:left">“indicates that the initial part of a request has been received and has not yet been rejected by the server.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.2.1" target="_blank" rel="noopener">RFC7231#6.2.1</a>,<br> <a href="https://tools.ietf.org/html/rfc2616#section-10.1.1" target="_blank" rel="noopener">RFC2616#10.1.1</a></td></tr><tr><td style="text-align:right"><code>101</code></td><td style="text-align:left">Switching Protocols</td><td style="text-align:left">“indicates that the server understands and is willing to comply with the client’s request, via the Upgrade header field, for a change in the application protocol being used on this connection.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.2.2" target="_blank" rel="noopener">RFC7231#6.2.2</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.1.2" target="_blank" rel="noopener">RFC2616#10.1.2</a></td></tr></tbody></table><h3 id="2xx"><a href="#2xx" class="headerlink" title="2xx"></a>2xx</h3><table><thead><tr><th style="text-align:right">code</th><th style="text-align:left">reason</th><th style="text-align:left">description</th><th style="text-align:left">spec</th></tr></thead><tbody><tr><td style="text-align:right"><code>2xx</code></td><td style="text-align:left"><strong>Successful</strong></td><td style="text-align:left">“indicates that the client’s request was successfully received, understood, and accepted.” ~ <a href="https://twitter.com/DanaDanger/status/183316183494311936" target="_blank" rel="noopener">cool</a></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.3" target="_blank" rel="noopener">RFC7231#6.3</a>,<br> <a href="https://tools.ietf.org/html/rfc2616#section-10.2" target="_blank" rel="noopener">RFC2616#10.2</a></td></tr><tr><td style="text-align:right"><code>200</code></td><td style="text-align:left">OK</td><td style="text-align:left">“indicates that the request has succeeded.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener">RFC7231#6.3.1</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.2.1" target="_blank" rel="noopener">RFC2616#10.2.1</a></td></tr><tr><td style="text-align:right"><code>201</code></td><td style="text-align:left">Created</td><td style="text-align:left">“indicates that the request has been fulfilled and has resulted in one or more new resources being created.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2" target="_blank" rel="noopener">RFC7231#6.3.2</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.2.2" target="_blank" rel="noopener">RFC2616#10.2.2</a></td></tr><tr><td style="text-align:right"><code>202</code></td><td style="text-align:left">Accepted</td><td style="text-align:left">“indicates that the request has been accepted for processing, but the processing has not been completed.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.3.3" target="_blank" rel="noopener">RFC7231#6.3.3</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.2.3" target="_blank" rel="noopener">RFC2616#10.2.3</a></td></tr><tr><td style="text-align:right"><code>203</code></td><td style="text-align:left">Non-Authoritative Information</td><td style="text-align:left">“indicates that the request was successful but the enclosed payload has been modified from that of the origin server’s 200 (OK) response by a transforming proxy.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.3.4" target="_blank" rel="noopener">RFC7231#6.3.4</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.2.4" target="_blank" rel="noopener">RFC2616#10.2.4</a></td></tr><tr><td style="text-align:right"><code>204</code></td><td style="text-align:left">No Content</td><td style="text-align:left">“indicates that the server has successfully fulfilled the request and that there is no additional content to send in the response payload body.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.3.5" target="_blank" rel="noopener">RFC7231#6.3.5</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.2.5" target="_blank" rel="noopener">RFC2616#10.2.5</a></td></tr><tr><td style="text-align:right"><code>205</code></td><td style="text-align:left">Reset Content</td><td style="text-align:left">“indicates that the server has fulfilled the request and desires that the user agent reset the “document view”, which caused the request to be sent, to its original state as received from the origin server.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.3.6" target="_blank" rel="noopener">RFC7231#6.3.6</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.2.6" target="_blank" rel="noopener">RFC2616#10.2.6</a></td></tr><tr><td style="text-align:right"><code>206</code></td><td style="text-align:left">Partial Content</td><td style="text-align:left">“indicates that the server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests’s Range header field.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7233#section-4.1" target="_blank" rel="noopener">RFC7233#4.1</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.2.7" target="_blank" rel="noopener">RFC2616#10.2.7</a></td></tr></tbody></table><h3 id="3xx"><a href="#3xx" class="headerlink" title="3xx"></a>3xx</h3><table><thead><tr><th style="text-align:right">code</th><th style="text-align:left">reason</th><th style="text-align:left">description</th><th style="text-align:left">spec</th></tr></thead><tbody><tr><td style="text-align:right"><code>3xx</code></td><td style="text-align:left"><strong>Redirection</strong></td><td style="text-align:left">“indicates that further action needs to be taken by the user agent in order to fulfill the request.” ~ <a href="https://twitter.com/DanaDanger/status/183316183494311936" target="_blank" rel="noopener">ask that dude over there</a></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4" target="_blank" rel="noopener">RFC7231#6.4</a>,<br> <a href="https://tools.ietf.org/html/rfc2616#section-10.3" target="_blank" rel="noopener">RFC2616#10.3</a></td></tr><tr><td style="text-align:right"><code>300</code></td><td style="text-align:left">Multiple Choices</td><td style="text-align:left">“indicates that the target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4.1" target="_blank" rel="noopener">RFC7231#6.4.1</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.1" target="_blank" rel="noopener">RFC2616#10.3.1</a></td></tr><tr><td style="text-align:right"><code>301</code></td><td style="text-align:left">Moved Permanently</td><td style="text-align:left">“indicates that the target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4.2" target="_blank" rel="noopener">RFC7231#6.4.2</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.2" target="_blank" rel="noopener">RFC2616#10.3.2</a></td></tr><tr><td style="text-align:right"><code>302</code></td><td style="text-align:left">Found</td><td style="text-align:left">“indicates that the target resource resides temporarily under a different URI.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4.3" target="_blank" rel="noopener">RFC7231#6.4.3</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.3" target="_blank" rel="noopener">RFC2616#10.3.3</a></td></tr><tr><td style="text-align:right"><code>303</code></td><td style="text-align:left">See Other</td><td style="text-align:left">“indicates that the server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4.4" target="_blank" rel="noopener">RFC7231#6.4.4</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.4" target="_blank" rel="noopener">RFC2616#10.3.4</a></td></tr><tr><td style="text-align:right"><code>304</code></td><td style="text-align:left">Not Modified</td><td style="text-align:left">“indicates that a conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7232#section-4.1" target="_blank" rel="noopener">RFC7232#4.1</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.5" target="_blank" rel="noopener">RFC2616#10.3.5</a></td></tr><tr><td style="text-align:right"><code>305</code></td><td style="text-align:left">Use Proxy</td><td style="text-align:left"><em>deprecated</em></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4.5" target="_blank" rel="noopener">RFC7231#6.4.5</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.6" target="_blank" rel="noopener">RFC2616#10.3.6</a></td></tr><tr><td style="text-align:right"><code>306</code></td><td style="text-align:left"></td><td style="text-align:left"><em>unused</em></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4.6" target="_blank" rel="noopener">RFC7231#6.4.6</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.7" target="_blank" rel="noopener">RFC2616#10.3.7</a></td></tr><tr><td style="text-align:right"><code>307</code></td><td style="text-align:left">Temporary Redirect</td><td style="text-align:left">“indicates that the target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4.7" target="_blank" rel="noopener">RFC7231#6.4.7</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.8" target="_blank" rel="noopener">RFC2616#10.3.8</a></td></tr></tbody></table><h3 id="4xx"><a href="#4xx" class="headerlink" title="4xx"></a>4xx</h3><table><thead><tr><th style="text-align:right">code</th><th style="text-align:left">reason</th><th style="text-align:left">description</th><th style="text-align:left">spec</th></tr></thead><tbody><tr><td style="text-align:right"><code>4xx</code></td><td style="text-align:left"><strong>Client Error</strong></td><td style="text-align:left">“indicates that the client seems to have erred.” ~ <a href="https://twitter.com/DanaDanger/status/183316183494311936" target="_blank" rel="noopener"><em>you</em> fucked up</a></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5" target="_blank" rel="noopener">RFC7231#6.5</a>,<br> <a href="https://tools.ietf.org/html/rfc2616#section-10.4" target="_blank" rel="noopener">RFC2616#10.4</a></td></tr><tr><td style="text-align:right"><code>400</code></td><td style="text-align:left">Bad Request</td><td style="text-align:left">“indicates that the server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.1" target="_blank" rel="noopener">RFC7231#6.5.1</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.1" target="_blank" rel="noopener">RFC2616#10.4.1</a></td></tr><tr><td style="text-align:right"><code>401</code></td><td style="text-align:left">Unauthorized</td><td style="text-align:left">“indicates that the request has not been applied because it lacks valid authentication credentials for the target resource.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7235#section-3.1" target="_blank" rel="noopener">RFC7235#6.3.1</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.2" target="_blank" rel="noopener">RFC2616#10.4.2</a></td></tr><tr><td style="text-align:right"><code>402</code></td><td style="text-align:left">Payment Required</td><td style="text-align:left"><em>reserved</em></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.2" target="_blank" rel="noopener">RFC7231#6.5.2</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.3" target="_blank" rel="noopener">RFC2616#10.4.3</a></td></tr><tr><td style="text-align:right"><code>403</code></td><td style="text-align:left">Forbidden</td><td style="text-align:left">“indicates that the server understood the request but refuses to authorize it.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.3" target="_blank" rel="noopener">RFC7231#6.5.3</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.4" target="_blank" rel="noopener">RFC2616#10.4.4</a></td></tr><tr><td style="text-align:right"><code>404</code></td><td style="text-align:left">Not Found</td><td style="text-align:left">“indicates that the origin server did not find a current representation for the target resource or is not willing to disclose that one exists.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.4" target="_blank" rel="noopener">RFC7231#6.5.4</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.5" target="_blank" rel="noopener">RFC2616#10.4.5</a></td></tr><tr><td style="text-align:right"><code>405</code></td><td style="text-align:left">Method Not Allowed</td><td style="text-align:left">“indicates that the method specified in the request-line is known by the origin server but not supported by the target resource.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.5" target="_blank" rel="noopener">RFC7231#6.5.5</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.6" target="_blank" rel="noopener">RFC2616#10.4.6</a></td></tr><tr><td style="text-align:right"><code>406</code></td><td style="text-align:left">Not Acceptable</td><td style="text-align:left">“indicates that the target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.6" target="_blank" rel="noopener">RFC7231#6.5.6</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.7" target="_blank" rel="noopener">RFC2616#10.4.7</a></td></tr><tr><td style="text-align:right"><code>407</code></td><td style="text-align:left">Proxy Authentication Required</td><td style="text-align:left">“is similar to 401 (Unauthorized), but indicates that the client needs to authenticate itself in order to use a proxy.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7235#section-3.2" target="_blank" rel="noopener">RFC7235#3.2</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.8" target="_blank" rel="noopener">RFC2616#10.4.8</a></td></tr><tr><td style="text-align:right"><code>408</code></td><td style="text-align:left">Request Timeout</td><td style="text-align:left">“indicates that the server did not receive a complete request message within the time that it was prepared to wait.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.7" target="_blank" rel="noopener">RFC7231#6.5.7</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.9" target="_blank" rel="noopener">RFC2616#10.4.9</a></td></tr><tr><td style="text-align:right"><code>409</code></td><td style="text-align:left">Conflict</td><td style="text-align:left">“indicates that the request could not be completed due to a conflict with the current state of the resource.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.8" target="_blank" rel="noopener">RFC7231#6.5.8</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.10" target="_blank" rel="noopener">RFC2616#10.4.10</a></td></tr><tr><td style="text-align:right"><code>410</code></td><td style="text-align:left">Gone</td><td style="text-align:left">“indicates that access to the target resource is no longer available at the origin server and that this condition is likely to be permanent.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.9" target="_blank" rel="noopener">RFC7231#6.5.9</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.11" target="_blank" rel="noopener">RFC2616#10.4.11</a></td></tr><tr><td style="text-align:right"><code>411</code></td><td style="text-align:left">Length Required</td><td style="text-align:left">“indicates that the server refuses to accept the request without a defined Content-Length.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.10" target="_blank" rel="noopener">RFC7231#6.5.10</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.12" target="_blank" rel="noopener">RFC2616#10.4.12</a></td></tr><tr><td style="text-align:right"><code>412</code></td><td style="text-align:left">Precondition Failed</td><td style="text-align:left">“indicates that one or more preconditions given in the request header fields evaluated to false when tested on the server.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7232#section-4.2" target="_blank" rel="noopener">RFC7232#4.2</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.13" target="_blank" rel="noopener">RFC2616#10.4.13</a></td></tr><tr><td style="text-align:right"><code>413</code></td><td style="text-align:left">Payload Too Large</td><td style="text-align:left">“indicates that the server is refusing to process a request because the request payload is larger than the server is willing or able to process.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.11" target="_blank" rel="noopener">RFC7231#6.5.11</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.14" target="_blank" rel="noopener">RFC2616#10.4.14</a></td></tr><tr><td style="text-align:right"><code>414</code></td><td style="text-align:left">URI Too Long</td><td style="text-align:left">“indicates that the server is refusing to service the request because the request-target is longer than the server is willing to interpret.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.12" target="_blank" rel="noopener">RFC7231#6.5.12</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.15" target="_blank" rel="noopener">RFC2616#10.4.15</a></td></tr><tr><td style="text-align:right"><code>415</code></td><td style="text-align:left">Unsupported Media Type</td><td style="text-align:left">“indicates that the origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.13" target="_blank" rel="noopener">RFC7231#6.5.13</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.16" target="_blank" rel="noopener">RFC2616#10.4.16</a></td></tr><tr><td style="text-align:right"><code>416</code></td><td style="text-align:left">Range Not Satisfiable</td><td style="text-align:left">“indicates that none of the ranges in the request’s Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7233#section-4.4" target="_blank" rel="noopener">RFC7233#4.4</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.17" target="_blank" rel="noopener">RFC2616#10.4.17</a></td></tr><tr><td style="text-align:right"><code>417</code></td><td style="text-align:left">Expectation Failed</td><td style="text-align:left">“indicates that the expectation given in the request’s Expect header field could not be met by at least one of the inbound servers.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.14" target="_blank" rel="noopener">RFC7231#6.5.14</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.18" target="_blank" rel="noopener">RFC2616#10.4.18</a></td></tr><tr><td style="text-align:right"><code>418</code></td><td style="text-align:left">I’m a teapot</td><td style="text-align:left">“Any attempt to brew coffee with a teapot should result in the error code 418 I’m a teapot.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2324#section-2.3.2" target="_blank" rel="noopener">RFC2324#2.3.2</a></td></tr><tr><td style="text-align:right"><code>426</code></td><td style="text-align:left">Upgrade Required</td><td style="text-align:left">“indicates that the server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.15" target="_blank" rel="noopener">RFC7231#6.5.15</a></td></tr></tbody></table><h3 id="5xx"><a href="#5xx" class="headerlink" title="5xx"></a>5xx</h3><table><thead><tr><th style="text-align:right">code</th><th style="text-align:left">reason</th><th style="text-align:left">description</th><th style="text-align:left">spec</th></tr></thead><tbody><tr><td style="text-align:right"><code>5xx</code></td><td style="text-align:left"><strong>Server Error</strong></td><td style="text-align:left">“indicates that the server is aware that it has erred or is incapable of performing the requested method.” ~ <a href="https://twitter.com/DanaDanger/status/183316183494311936" target="_blank" rel="noopener"><em>we</em> fucked up</a></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.6" target="_blank" rel="noopener">RFC7231#6.6</a>,<br> <a href="https://tools.ietf.org/html/rfc2616#section-10.5" target="_blank" rel="noopener">RFC2616#10.5</a></td></tr><tr><td style="text-align:right"><code>500</code></td><td style="text-align:left">Internal Server Error</td><td style="text-align:left">“indicates that the server encountered an unexpected condition that prevented it from fulfilling the request.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1" target="_blank" rel="noopener">RFC7231#6.6.1</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.5.1" target="_blank" rel="noopener">RFC2616#10.5.2</a></td></tr><tr><td style="text-align:right"><code>501</code></td><td style="text-align:left">Not Implemented</td><td style="text-align:left">“indicates that the server does not support the functionality required to fulfill the request.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.6.2" target="_blank" rel="noopener">RFC7231#6.6.2</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.5.2" target="_blank" rel="noopener">RFC2616#10.5.3</a></td></tr><tr><td style="text-align:right"><code>502</code></td><td style="text-align:left">Bad Gateway</td><td style="text-align:left">“indicates that the server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.6.3" target="_blank" rel="noopener">RFC7231#6.6.3</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.5.3" target="_blank" rel="noopener">RFC2616#10.5.4</a></td></tr><tr><td style="text-align:right"><code>503</code></td><td style="text-align:left">Service Unavailable</td><td style="text-align:left">“indicates that the server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.6.4" target="_blank" rel="noopener">RFC7231#6.6.4</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.5.4" target="_blank" rel="noopener">RFC2616#10.5.5</a></td></tr><tr><td style="text-align:right"><code>504</code></td><td style="text-align:left">Gateway Time-out</td><td style="text-align:left">“indicates that the server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.6.5" target="_blank" rel="noopener">RFC7231#6.6.5</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.5.5" target="_blank" rel="noopener">RFC2616#10.5.6</a></td></tr><tr><td style="text-align:right"><code>505</code></td><td style="text-align:left">HTTP Version Not Supported</td><td style="text-align:left">“indicates that the server does not support, or refuses to support, the protocol version that was used in the request message.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.6.6" target="_blank" rel="noopener">RFC7231#6.6.6</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.5.6" target="_blank" rel="noopener">RFC2616#10.5.6</a></td></tr></tbody></table><h2 id="Extensions"><a href="#Extensions" class="headerlink" title="Extensions"></a>Extensions</h2><table><thead><tr><th style="text-align:right">code</th><th style="text-align:left">reason</th><th style="text-align:left">description</th><th style="text-align:left">spec</th></tr></thead><tbody><tr><td style="text-align:right"><code>102</code></td><td style="text-align:left">Processing</td><td style="text-align:left">“is an interim response used to inform the client that the server has accepted the complete request, but has not yet completed it.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2518#section-10.1" target="_blank" rel="noopener">RFC5218#10.1</a></td></tr><tr><td style="text-align:right"><code>207</code></td><td style="text-align:left">Multi-Status</td><td style="text-align:left">“provides status for multiple independent operations.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2518#section-10.2" target="_blank" rel="noopener">RFC5218#10.2</a></td></tr><tr><td style="text-align:right"><code>226</code></td><td style="text-align:left">IM Used</td><td style="text-align:left">“The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc3229#section-10.4.1" target="_blank" rel="noopener">RFC3229#10.4.1</a></td></tr><tr><td style="text-align:right"><code>308</code></td><td style="text-align:left">Permanent Redirect</td><td style="text-align:left">“The target resource has been assigned a new permanent URI and any future references to this resource outght to use one of the enclosed URIs. […] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7538" target="_blank" rel="noopener">RFC7538</a></td></tr><tr><td style="text-align:right"><code>422</code></td><td style="text-align:left">Unprocessable Entity</td><td style="text-align:left">“means the server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2518#section-10.3" target="_blank" rel="noopener">RFC5218#10.3</a></td></tr><tr><td style="text-align:right"><code>423</code></td><td style="text-align:left">Locked</td><td style="text-align:left">“means the source or destination resource of a method is locked.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2518#section-10.4" target="_blank" rel="noopener">RFC5218#10.4</a></td></tr><tr><td style="text-align:right"><code>424</code></td><td style="text-align:left">Failed Dependency</td><td style="text-align:left">“means that the method could not be performed on the resource because the requested action depended on another action and that action failed.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2518#section-10.5" target="_blank" rel="noopener">RFC5218#10.5</a></td></tr><tr><td style="text-align:right"><code>428</code></td><td style="text-align:left">Precondition Required</td><td style="text-align:left">“indicates that the origin server requires the request to be conditional.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc6585#section-3" target="_blank" rel="noopener">RFC6585#3</a></td></tr><tr><td style="text-align:right"><code>429</code></td><td style="text-align:left">Too Many Requests</td><td style="text-align:left">“indicates that the user has sent too many requests in a given amount of time (“rate limiting”).”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc6585#section-4" target="_blank" rel="noopener">RFC6585#4</a></td></tr><tr><td style="text-align:right"><code>431</code></td><td style="text-align:left">Request Header Fields Too Large</td><td style="text-align:left">“indicates that the server is unwilling to process the request because its header fields are too large.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc6585#section-5" target="_blank" rel="noopener">RFC6585#5</a></td></tr><tr><td style="text-align:right"><code>451</code></td><td style="text-align:left">Unavailable For Legal Reasons</td><td style="text-align:left">“This status code indicates that the server is denying access to the resource in response to a legal demand.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status" target="_blank" rel="noopener">draft-ietf-httpbis-legally-restricted-status</a></td></tr><tr><td style="text-align:right"><code>506</code></td><td style="text-align:left">Variant Also Negotiates</td><td style="text-align:left">“indicates that the server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2295#section-8.1" target="_blank" rel="noopener">RFC2295#8.1</a></td></tr><tr><td style="text-align:right"><code>507</code></td><td style="text-align:left">Insufficient Storage</td><td style="text-align:left">“means the method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2518#section-10.6" target="_blank" rel="noopener">RFC5218#10.6</a></td></tr><tr><td style="text-align:right"><code>511</code></td><td style="text-align:left">Network Authentication Required</td><td style="text-align:left">“indicates that the client needs to authenticate to gain network access.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc6585#section-6" target="_blank" rel="noopener">RFC6585#6</a></td></tr><tr><td style="text-align:right"><code>7xx</code></td><td style="text-align:left"><strong>Developer Error</strong></td><td style="text-align:left"><a href="http://www.urbandictionary.com/define.php?term=err" target="_blank" rel="noopener">err</a></td><td style="text-align:left"><a href="http://documentup.com/joho/7XX-rfc" target="_blank" rel="noopener">7xx-rfc</a></td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;http状态吗及解释，英文版&quot;&gt;&lt;a href=&quot;#http状态吗及解释，英文版&quot; class=&quot;headerlink&quot; title=&quot;http状态吗及解释，英文版&quot;&gt;&lt;/a&gt;http状态吗及解释，英文版&lt;/h2&gt;&lt;h3 id=&quot;1xx&quot;&gt;&lt;a href=&quot;#1x
      
    
    </summary>
    
      <category term="HTTP" scheme="http://www.wbug.cn/categories/HTTP/"/>
    
    
  </entry>
  
  <entry>
    <title>http状态码一览</title>
    <link href="http://www.wbug.cn/2018/11/21/httpCode_cn/"/>
    <id>http://www.wbug.cn/2018/11/21/httpCode_cn/</id>
    <published>2018-11-21T04:39:54.000Z</published>
    <updated>2018-11-21T06:19:25.959Z</updated>
    
    <content type="html"><![CDATA[<h2 id="http状态吗及解释，中文版"><a href="#http状态吗及解释，中文版" class="headerlink" title="http状态吗及解释，中文版"></a>http状态吗及解释，中文版</h2><h3 id="1xx"><a href="#1xx" class="headerlink" title="1xx"></a>1xx</h3><table><thead><tr><th style="text-align:right">code</th><th style="text-align:left">reason</th><th style="text-align:left">description</th><th style="text-align:left">spec</th></tr></thead><tbody><tr><td style="text-align:right"><code>1xx</code></td><td style="text-align:left"><strong>信息响应</strong></td><td style="text-align:left">“indicates an interim response for communicating connection status or request progress prior to completing the requested action and sending a final response.” ~ <a href="http://www.urbandictionary.com/define.php?term=sure" target="_blank" rel="noopener">sure</a></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.2" target="_blank" rel="noopener">RFC7231#6.2</a>,<br> <a href="https://tools.ietf.org/html/rfc2616#section-10.1" target="_blank" rel="noopener">RFC2616#10.1</a></td></tr><tr><td style="text-align:right"><code>100</code></td><td style="text-align:left">Continue</td><td style="text-align:left">“信息型状态响应码表示目前为止一切正常, 客户端应该继续请求, 如果已完成请求则忽略.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.2.1" target="_blank" rel="noopener">RFC7231#6.2.1</a>,<br> <a href="https://tools.ietf.org/html/rfc2616#section-10.1.1" target="_blank" rel="noopener">RFC2616#10.1.1</a></td></tr><tr><td style="text-align:right"><code>101</code></td><td style="text-align:left">Switching Protocols</td><td style="text-align:left">“该代码是响应客户端的 Upgrade 标头发送的，并且指示服务器也正在切换的协议。.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.2.2" target="_blank" rel="noopener">RFC7231#6.2.2</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.1.2" target="_blank" rel="noopener">RFC2616#10.1.2</a></td></tr></tbody></table><h3 id="2xx"><a href="#2xx" class="headerlink" title="2xx"></a>2xx</h3><table><thead><tr><th style="text-align:right">code</th><th style="text-align:left">reason</th><th style="text-align:left">description</th><th style="text-align:left">spec</th></tr></thead><tbody><tr><td style="text-align:right"><code>2xx</code></td><td style="text-align:left"><strong>成功响应</strong></td><td style="text-align:left">“indicates that the client’s request was successfully received, understood, and accepted.” ~ <a href="https://twitter.com/DanaDanger/status/183316183494311936" target="_blank" rel="noopener">cool</a></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.3" target="_blank" rel="noopener">RFC7231#6.3</a>,<br> <a href="https://tools.ietf.org/html/rfc2616#section-10.2" target="_blank" rel="noopener">RFC2616#10.2</a></td></tr><tr><td style="text-align:right"><code>200</code></td><td style="text-align:left">OK</td><td style="text-align:left">“请求成功.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener">RFC7231#6.3.1</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.2.1" target="_blank" rel="noopener">RFC2616#10.2.1</a></td></tr><tr><td style="text-align:right"><code>201</code></td><td style="text-align:left">Created</td><td style="text-align:left">“该请求已成功，并因此创建了一个新的资源。这通常是在PUT请求之后发送的响应。.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2" target="_blank" rel="noopener">RFC7231#6.3.2</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.2.2" target="_blank" rel="noopener">RFC2616#10.2.2</a></td></tr><tr><td style="text-align:right"><code>202</code></td><td style="text-align:left">Accepted</td><td style="text-align:left">“请求已经接收到，但还未响应，没有结果。意味着不会有一个异步的响应去表明当前请求的结果，预期另外的进程和服务去处理请求，或者批处理.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.3.3" target="_blank" rel="noopener">RFC7231#6.3.3</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.2.3" target="_blank" rel="noopener">RFC2616#10.2.3</a></td></tr><tr><td style="text-align:right"><code>203</code></td><td style="text-align:left">Non-Authoritative Information</td><td style="text-align:left">N服务器已成功处理了请求，但返回的实体头部元信息不是在原始服务器上有效的确定集合，而是来自本地或者第三方的拷贝。当前的信息可能是原始版本的子集或者超集。例如，包含资源的元数据可能导致原始服务器知道元信息的超集。使用此状态码不是必须的，而且只有在响应不使用此状态码便会返回200 OK的情况下才是合适的.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.3.4" target="_blank" rel="noopener">RFC7231#6.3.4</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.2.4" target="_blank" rel="noopener">RFC2616#10.2.4</a></td></tr><tr><td style="text-align:right"><code>204</code></td><td style="text-align:left">No Content</td><td style="text-align:left">“服务器成功处理了请求，但不需要返回任何实体内容，并且希望返回更新了的元信息。响应可能通过实体头部的形式，返回新的或更新后的元信息。如果存在这些头部信息，则应当与所请求的变量相呼应。如果客户端是浏览器的话，那么用户浏览器应保留发送了该请求的页面，而不产生任何文档视图上的变化，即使按照规范新的或更新后的元信息应当被应用到用户浏览器活动视图中的文档。由于204响应被禁止包含任何消息体，因此它始终以消息头后的第一个空行结尾.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.3.5" target="_blank" rel="noopener">RFC7231#6.3.5</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.2.5" target="_blank" rel="noopener">RFC2616#10.2.5</a></td></tr><tr><td style="text-align:right"><code>205</code></td><td style="text-align:left">Reset Content</td><td style="text-align:left">“服务器成功处理了请求，且没有返回任何内容。但是与204响应不同，返回此状态码的响应要求请求者重置文档视图。该响应主要是被用于接受用户输入后，立即重置表单，以便用户能够轻松地开始另一次输入。与204响应一样，该响应也被禁止包含任何消息体，且以消息头后的第一个空行结束.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.3.6" target="_blank" rel="noopener">RFC7231#6.3.6</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.2.6" target="_blank" rel="noopener">RFC2616#10.2.6</a></td></tr><tr><td style="text-align:right"><code>206</code></td><td style="text-align:left">Partial Content</td><td style="text-align:left">“服务器已经成功处理了部分 GET 请求。类似于 FlashGet 或者迅雷这类的 HTTP 下载工具都是使用此类响应实现断点续传或者将一个大文档分解为多个下载段同时下载。该请求必须包含 Range 头信息来指示客户端希望得到的内容范围，并且可能包含 If-Range 来作为请求条件.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7233#section-4.1" target="_blank" rel="noopener">RFC7233#4.1</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.2.7" target="_blank" rel="noopener">RFC2616#10.2.7</a></td></tr></tbody></table><h3 id="3xx"><a href="#3xx" class="headerlink" title="3xx"></a>3xx</h3><table><thead><tr><th style="text-align:right">code</th><th style="text-align:left">reason</th><th style="text-align:left">description</th><th style="text-align:left">spec</th></tr></thead><tbody><tr><td style="text-align:right"><code>3xx</code></td><td style="text-align:left"><strong>重定向</strong></td><td style="text-align:left">“indicates that further action needs to be taken by the user agent in order to fulfill the request.” ~ <a href="https://twitter.com/DanaDanger/status/183316183494311936" target="_blank" rel="noopener">ask that dude over there</a></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4" target="_blank" rel="noopener">RFC7231#6.4</a>,<br> <a href="https://tools.ietf.org/html/rfc2616#section-10.3" target="_blank" rel="noopener">RFC2616#10.3</a></td></tr><tr><td style="text-align:right"><code>300</code></td><td style="text-align:left">Multiple Choices</td><td style="text-align:left">“被请求的资源有一系列可供选择的回馈信息，每个都有自己特定的地址和浏览器驱动的商议信息。用户或浏览器能够自行选择一个首选的地址进行重定向。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4.1" target="_blank" rel="noopener">RFC7231#6.4.1</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.1" target="_blank" rel="noopener">RFC2616#10.3.1</a></td></tr><tr><td style="text-align:right"><code>301</code></td><td style="text-align:left">Moved Permanently</td><td style="text-align:left">“被请求的资源已永久移动到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干个 URI 之一。如果可能，拥有链接编辑功能的客户端应当自动把请求的地址修改为从服务器反馈回来的地址。除非额外指定，否则这个响应也是可缓存的。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4.2" target="_blank" rel="noopener">RFC7231#6.4.2</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.2" target="_blank" rel="noopener">RFC2616#10.3.2</a></td></tr><tr><td style="text-align:right"><code>302</code></td><td style="text-align:left">Found</td><td style="text-align:left">“请求的资源现在临时从不同的 URI 响应请求。由于这样的重定向是临时的，客户端应当继续向原有地址发送以后的请求。只有在Cache-Control或Expires中进行了指定的情况下，这个响应才是可缓存的。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4.3" target="_blank" rel="noopener">RFC7231#6.4.3</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.3" target="_blank" rel="noopener">RFC2616#10.3.3</a></td></tr><tr><td style="text-align:right"><code>303</code></td><td style="text-align:left">See Other</td><td style="text-align:left">“对应当前请求的响应可以在另一个 URI 上被找到，而且客户端应当采用 GET 的方式访问那个资源。这个方法的存在主要是为了允许由脚本激活的POST请求输出重定向到一个新的资源。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4.4" target="_blank" rel="noopener">RFC7231#6.4.4</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.4" target="_blank" rel="noopener">RFC2616#10.3.4</a></td></tr><tr><td style="text-align:right"><code>304</code></td><td style="text-align:left">Not Modified</td><td style="text-align:left">“如果客户端发送了一个带条件的 GET 请求且该请求已被允许，而文档的内容（自上次访问以来或者根据请求的条件）并没有改变，则服务器应当返回这个状态码。304 响应禁止包含消息体，因此始终以消息头后的第一个空行结尾。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7232#section-4.1" target="_blank" rel="noopener">RFC7232#4.1</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.5" target="_blank" rel="noopener">RFC2616#10.3.5</a></td></tr><tr><td style="text-align:right"><code>305</code></td><td style="text-align:left">Use Proxy</td><td style="text-align:left"><em>被请求的资源必须通过指定的代理才能被访问。Location 域中将给出指定的代理所在的 URI 信息，接收者需要重复发送一个单独的请求，通过这个代理才能访问相应资源。只有原始服务器才能建立305响应。</em></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4.5" target="_blank" rel="noopener">RFC7231#6.4.5</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.6" target="_blank" rel="noopener">RFC2616#10.3.6</a></td></tr><tr><td style="text-align:right"><code>306</code></td><td style="text-align:left">unused</td><td style="text-align:left"><em>在最新版的规范中，306 状态码已经不再被使用。</em></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4.6" target="_blank" rel="noopener">RFC7231#6.4.6</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.7" target="_blank" rel="noopener">RFC2616#10.3.7</a></td></tr><tr><td style="text-align:right"><code>307</code></td><td style="text-align:left">Temporary Redirect</td><td style="text-align:left">“请求的资源现在临时从不同的URI 响应请求。由于这样的重定向是临时的，客户端应当继续向原有地址发送以后的请求。只有在Cache-Control或Expires中进行了指定的情况下，这个响应才是可缓存的。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.4.7" target="_blank" rel="noopener">RFC7231#6.4.7</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.3.8" target="_blank" rel="noopener">RFC2616#10.3.8</a></td></tr></tbody></table><h3 id="4xx"><a href="#4xx" class="headerlink" title="4xx"></a>4xx</h3><table><thead><tr><th style="text-align:right">code</th><th style="text-align:left">reason</th><th style="text-align:left">description</th><th style="text-align:left">spec</th></tr></thead><tbody><tr><td style="text-align:right"><code>4xx</code></td><td style="text-align:left"><strong>客户端响应</strong></td><td style="text-align:left">“indicates that the client seems to have erred.” ~ <a href="https://twitter.com/DanaDanger/status/183316183494311936" target="_blank" rel="noopener"><em>you</em> fucked up</a></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5" target="_blank" rel="noopener">RFC7231#6.5</a>,<br> <a href="https://tools.ietf.org/html/rfc2616#section-10.4" target="_blank" rel="noopener">RFC2616#10.4</a></td></tr><tr><td style="text-align:right"><code>400</code></td><td style="text-align:left">Bad Request</td><td style="text-align:left">“1、语义有误，当前请求无法被服务器理解。除非进行修改，否则客户端不应该重复提交这个请求。2、请求参数有误。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.1" target="_blank" rel="noopener">RFC7231#6.5.1</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.1" target="_blank" rel="noopener">RFC2616#10.4.1</a></td></tr><tr><td style="text-align:right"><code>401</code></td><td style="text-align:left">Unauthorized</td><td style="text-align:left">“当前请求需要用户验证。该响应必须包含一个适用于被请求资源的 WWW-Authenticate 信息头用以询问用户信息。客户端可以重复提交一个包含恰当的 Authorization 头信息的请求。如果当前请求已经包含了 Authorization 证书，那么401响应代表着服务器验证已经拒绝了那些证书。如果401响应包含了与前一个响应相同的身份验证询问，且浏览器已经至少尝试了一次验证，那么浏览器应当向用户展示响应中包含的实体信息，因为这个实体信息中可能包含了相关诊断信息。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7235#section-3.1" target="_blank" rel="noopener">RFC7235#6.3.1</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.2" target="_blank" rel="noopener">RFC2616#10.4.2</a></td></tr><tr><td style="text-align:right"><code>402</code></td><td style="text-align:left">Payment Required</td><td style="text-align:left"><em>此响应码保留以便将来使用，创造此响应码的最初目的是用于数字支付系统，然而现在并未使用。</em></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.2" target="_blank" rel="noopener">RFC7231#6.5.2</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.3" target="_blank" rel="noopener">RFC2616#10.4.3</a></td></tr><tr><td style="text-align:right"><code>403</code></td><td style="text-align:left">Forbidden</td><td style="text-align:left">“服务器已经理解请求，但是拒绝执行它。与 401 响应不同的是，身份验证并不能提供任何帮助，而且这个请求也不应该被重复提交。如果这不是一个 HEAD 请求，而且服务器希望能够讲清楚为何请求不能被执行，那么就应该在实体内描述拒绝的原因。当然服务器也可以返回一个 404 响应，假如它不希望让客户端获得任何信息。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.3" target="_blank" rel="noopener">RFC7231#6.5.3</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.4" target="_blank" rel="noopener">RFC2616#10.4.4</a></td></tr><tr><td style="text-align:right"><code>404</code></td><td style="text-align:left">Not Found</td><td style="text-align:left">“请求失败，请求所希望得到的资源未被在服务器上发现。没有信息能够告诉用户这个状况到底是暂时的还是永久的。假如服务器知道情况的话，应当使用410状态码来告知旧资源因为某些内部的配置机制问题，已经永久的不可用，而且没有任何可以跳转的地址。404这个状态码被广泛应用于当服务器不想揭示到底为何请求被拒绝或者没有其他适合的响应可用的情况下。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.4" target="_blank" rel="noopener">RFC7231#6.5.4</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.5" target="_blank" rel="noopener">RFC2616#10.4.5</a></td></tr><tr><td style="text-align:right"><code>405</code></td><td style="text-align:left">Method Not Allowed</td><td style="text-align:left">“请求行中指定的请求方法不能被用于请求相应的资源。该响应必须返回一个Allow 头信息用以表示出当前资源能够接受的请求方法的列表。 　　鉴于 PUT，DELETE 方法会对服务器上的资源进行写操作，因而绝大部分的网页服务器都不支持或者在默认配置下不允许上述请求方法，对于此类请求均会返回405错误。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.5" target="_blank" rel="noopener">RFC7231#6.5.5</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.6" target="_blank" rel="noopener">RFC2616#10.4.6</a></td></tr><tr><td style="text-align:right"><code>406</code></td><td style="text-align:left">Not Acceptable</td><td style="text-align:left">“请求的资源的内容特性无法满足请求头中的条件，因而无法生成响应实体。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.6" target="_blank" rel="noopener">RFC7231#6.5.6</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.7" target="_blank" rel="noopener">RFC2616#10.4.7</a></td></tr><tr><td style="text-align:right"><code>407</code></td><td style="text-align:left">Proxy Authentication Required</td><td style="text-align:left">“与401响应类似，只不过客户端必须在代理服务器上进行身份验证。代理服务器必须返回一个 Proxy-Authenticate 用以进行身份询问。客户端可以返回一个 Proxy-Authorization 信息头用以验证。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7235#section-3.2" target="_blank" rel="noopener">RFC7235#3.2</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.8" target="_blank" rel="noopener">RFC2616#10.4.8</a></td></tr><tr><td style="text-align:right"><code>408</code></td><td style="text-align:left">Request Timeout</td><td style="text-align:left">“请求超时。客户端没有在服务器预备等待的时间内完成一个请求的发送。客户端可以随时再次提交这一请求而无需进行任何更改。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.7" target="_blank" rel="noopener">RFC7231#6.5.7</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.9" target="_blank" rel="noopener">RFC2616#10.4.9</a></td></tr><tr><td style="text-align:right"><code>409</code></td><td style="text-align:left">Conflict</td><td style="text-align:left">“由于和被请求的资源的当前状态之间存在冲突，请求无法完成。这个代码只允许用在这样的情况下才能被使用：用户被认为能够解决冲突，并且会重新提交新的请求。该响应应当包含足够的信息以便用户发现冲突的源头。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.8" target="_blank" rel="noopener">RFC7231#6.5.8</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.10" target="_blank" rel="noopener">RFC2616#10.4.10</a></td></tr><tr><td style="text-align:right"><code>410</code></td><td style="text-align:left">Gone</td><td style="text-align:left">“被请求的资源在服务器上已经不再可用，而且没有任何已知的转发地址。这样的状况应当被认为是永久性的。如果可能，拥有链接编辑功能的客户端应当在获得用户许可后删除所有指向这个地址的引用。如果服务器不知道或者无法确定这个状况是否是永久的，那么就应该使用 404 状态码。除非额外说明，否则这个响应是可缓存的。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.9" target="_blank" rel="noopener">RFC7231#6.5.9</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.11" target="_blank" rel="noopener">RFC2616#10.4.11</a></td></tr><tr><td style="text-align:right"><code>411</code></td><td style="text-align:left">Length Required</td><td style="text-align:left">“服务器拒绝在没有定义 Content-Length 头的情况下接受请求。在添加了表明请求消息体长度的有效 Content-Length 头之后，客户端可以再次提交该请求。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.10" target="_blank" rel="noopener">RFC7231#6.5.10</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.12" target="_blank" rel="noopener">RFC2616#10.4.12</a></td></tr><tr><td style="text-align:right"><code>412</code></td><td style="text-align:left">Precondition Failed</td><td style="text-align:left">“服务器在验证在请求的头字段中给出先决条件时，没能满足其中的一个或多个。这个状态码允许客户端在获取资源时在请求的元信息（请求头字段数据）中设置先决条件，以此避免该请求方法被应用到其希望的内容以外的资源上。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7232#section-4.2" target="_blank" rel="noopener">RFC7232#4.2</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.13" target="_blank" rel="noopener">RFC2616#10.4.13</a></td></tr><tr><td style="text-align:right"><code>413</code></td><td style="text-align:left">Payload Too Large</td><td style="text-align:left">“服务器拒绝处理当前请求，因为该请求提交的实体数据大小超过了服务器愿意或者能够处理的范围。此种情况下，服务器可以关闭连接以免客户端继续发送此请求。如果这个状况是临时的，服务器应当返回一个 Retry-After 的响应头，以告知客户端可以在多少时间以后重新尝试。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.11" target="_blank" rel="noopener">RFC7231#6.5.11</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.14" target="_blank" rel="noopener">RFC2616#10.4.14</a></td></tr><tr><td style="text-align:right"><code>414</code></td><td style="text-align:left">URI Too Long</td><td style="text-align:left">“请求的URI 长度超过了服务器能够解释的长度，因此服务器拒绝对该请求提供服务。这比较少见，通常的情况包括：本应使用POST方法的表单提交变成了GET方法，导致查询字符串（Query String）过长。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.12" target="_blank" rel="noopener">RFC7231#6.5.12</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.15" target="_blank" rel="noopener">RFC2616#10.4.15</a></td></tr><tr><td style="text-align:right"><code>415</code></td><td style="text-align:left">Unsupported Media Type</td><td style="text-align:left">“对于当前请求的方法和所请求的资源，请求中提交的实体并不是服务器中所支持的格式，因此请求被拒绝。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.13" target="_blank" rel="noopener">RFC7231#6.5.13</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.16" target="_blank" rel="noopener">RFC2616#10.4.16</a></td></tr><tr><td style="text-align:right"><code>416</code></td><td style="text-align:left">Range Not Satisfiable</td><td style="text-align:left">“如果请求中包含了 Range 请求头，并且 Range 中指定的任何数据范围都与当前资源的可用范围不重合，同时请求中又没有定义 If-Range 请求头，那么服务器就应当返回416状态码。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7233#section-4.4" target="_blank" rel="noopener">RFC7233#4.4</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.17" target="_blank" rel="noopener">RFC2616#10.4.17</a></td></tr><tr><td style="text-align:right"><code>417</code></td><td style="text-align:left">Expectation Failed</td><td style="text-align:left">“此响应代码意味着服务器无法满足 期望 请求标头字段指示的期望值。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.14" target="_blank" rel="noopener">RFC7231#6.5.14</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.4.18" target="_blank" rel="noopener">RFC2616#10.4.18</a></td></tr><tr><td style="text-align:right"><code>418</code></td><td style="text-align:left">I’m a teapot</td><td style="text-align:left">“服务器拒绝尝试用 <a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E5%92%96%E5%95%A1%E5%A3%B6%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener">“茶壶冲泡咖啡”</a>。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2324#section-2.3.2" target="_blank" rel="noopener">RFC2324#2.3.2</a></td></tr><tr><td style="text-align:right"><code>426</code></td><td style="text-align:left">Upgrade Required</td><td style="text-align:left">“服务器拒绝使用当前协议执行请求，但可能在客户机升级到其他协议后愿意这样做。 服务器在 426 响应中发送 Upgrade 头以指示所需的协议。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.5.15" target="_blank" rel="noopener">RFC7231#6.5.15</a></td></tr></tbody></table><h3 id="5xx"><a href="#5xx" class="headerlink" title="5xx"></a>5xx</h3><table><thead><tr><th style="text-align:right">code</th><th style="text-align:left">reason</th><th style="text-align:left">description</th><th style="text-align:left">spec</th></tr></thead><tbody><tr><td style="text-align:right"><code>5xx</code></td><td style="text-align:left"><strong>服务端响应</strong></td><td style="text-align:left">“indicates that the server is aware that it has erred or is incapable of performing the requested method.” ~ <a href="https://twitter.com/DanaDanger/status/183316183494311936" target="_blank" rel="noopener"><em>we</em> fucked up</a></td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.6" target="_blank" rel="noopener">RFC7231#6.6</a>,<br> <a href="https://tools.ietf.org/html/rfc2616#section-10.5" target="_blank" rel="noopener">RFC2616#10.5</a></td></tr><tr><td style="text-align:right"><code>500</code></td><td style="text-align:left">Internal Server Error</td><td style="text-align:left">“服务器遇到了不知道如何处理的情况。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.6.1" target="_blank" rel="noopener">RFC7231#6.6.1</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.5.1" target="_blank" rel="noopener">RFC2616#10.5.2</a></td></tr><tr><td style="text-align:right"><code>501</code></td><td style="text-align:left">Not Implemented</td><td style="text-align:left">“此请求方法不被服务器支持且无法被处理。只有GET和HEAD是要求服务器支持的，它们必定不会返回此错误代码。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.6.2" target="_blank" rel="noopener">RFC7231#6.6.2</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.5.2" target="_blank" rel="noopener">RFC2616#10.5.3</a></td></tr><tr><td style="text-align:right"><code>502</code></td><td style="text-align:left">Bad Gateway</td><td style="text-align:left">“此错误响应表明服务器作为网关需要得到一个处理这个请求的响应，但是得到一个错误的响应。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.6.3" target="_blank" rel="noopener">RFC7231#6.6.3</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.5.3" target="_blank" rel="noopener">RFC2616#10.5.4</a></td></tr><tr><td style="text-align:right"><code>503</code></td><td style="text-align:left">Service Unavailable</td><td style="text-align:left">“服务器没有准备好处理请求。 常见原因是服务器因维护或重载而停机。 请注意，与此响应一起，应发送解释问题的用户友好页面。 这个响应应该用于临时条件和 Retry-After：如果可能的话，HTTP头应该包含恢复服务之前的估计时间。 网站管理员还必须注意与此响应一起发送的与缓存相关的标头，因为这些临时条件响应通常不应被缓存。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.6.4" target="_blank" rel="noopener">RFC7231#6.6.4</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.5.4" target="_blank" rel="noopener">RFC2616#10.5.5</a></td></tr><tr><td style="text-align:right"><code>504</code></td><td style="text-align:left">Gateway Time-out</td><td style="text-align:left">“当服务器作为网关，不能及时得到响应时返回此错误代码。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.6.5" target="_blank" rel="noopener">RFC7231#6.6.5</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.5.5" target="_blank" rel="noopener">RFC2616#10.5.6</a></td></tr><tr><td style="text-align:right"><code>505</code></td><td style="text-align:left">HTTP Version Not Supported</td><td style="text-align:left">“服务器不支持请求中所使用的HTTP协议版本。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7231#section-6.6.6" target="_blank" rel="noopener">RFC7231#6.6.6</a>,<br><a href="https://tools.ietf.org/html/rfc2616#section-10.5.6" target="_blank" rel="noopener">RFC2616#10.5.6</a></td></tr></tbody></table><h2 id="扩展码"><a href="#扩展码" class="headerlink" title="扩展码"></a>扩展码</h2><table><thead><tr><th style="text-align:right">code</th><th style="text-align:left">reason</th><th style="text-align:left">description</th><th style="text-align:left">spec</th></tr></thead><tbody><tr><td style="text-align:right"><code>102</code></td><td style="text-align:left">Processing</td><td style="text-align:left">“此代码表示服务器已收到并正在处理该请求，但没有响应可用”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2518#section-10.1" target="_blank" rel="noopener">RFC5218#10.1</a></td></tr><tr><td style="text-align:right"><code>207</code></td><td style="text-align:left">Multi-Status</td><td style="text-align:left">“由WebDAV(RFC 2518)扩展的状态码，代表之后的消息体将是一个XML消息，并且可能依照之前子请求数量的不同，包含一系列独立的响应代码。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2518#section-10.2" target="_blank" rel="noopener">RFC5218#10.2</a></td></tr><tr><td style="text-align:right"><code>226</code></td><td style="text-align:left">IM Used</td><td style="text-align:left">“服务器已经完成了对资源的 GET 请求，并且响应是对当前实例应用的一个或多个实例操作结果的表示。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc3229#section-10.4.1" target="_blank" rel="noopener">RFC3229#10.4.1</a></td></tr><tr><td style="text-align:right"><code>308</code></td><td style="text-align:left">Permanent Redirect</td><td style="text-align:left">“T这意味着资源现在永久位于由 Location: HTTP Response 标头指定的另一个 URI。 这与 301 Moved Permanently HTTP 响应代码具有相同的语义，但用户代理不能更改所使用的 HTTP 方法：如果在第一个请求中使用 POST，则必须在第二个请求中使用 POST。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc7538" target="_blank" rel="noopener">RFC7538</a></td></tr><tr><td style="text-align:right"><code>422</code></td><td style="text-align:left">Unprocessable Entity</td><td style="text-align:left">“请求格式良好，但由于语义错误而无法遵循。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2518#section-10.3" target="_blank" rel="noopener">RFC5218#10.3</a></td></tr><tr><td style="text-align:right"><code>423</code></td><td style="text-align:left">Locked</td><td style="text-align:left">“正在访问的资源被锁定。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2518#section-10.4" target="_blank" rel="noopener">RFC5218#10.4</a></td></tr><tr><td style="text-align:right"><code>424</code></td><td style="text-align:left">Failed Dependency</td><td style="text-align:left">“由于先前的请求失败，所以此次请求失败。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2518#section-10.5" target="_blank" rel="noopener">RFC5218#10.5</a></td></tr><tr><td style="text-align:right"><code>428</code></td><td style="text-align:left">Precondition Required</td><td style="text-align:left">“原始服务器要求该请求是有条件的。 旨在防止“丢失更新”问题，即客户端获取资源状态，修改该状态并将其返回服务器，同时第三方修改服务器上的状态，从而导致冲突。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc6585#section-3" target="_blank" rel="noopener">RFC6585#3</a></td></tr><tr><td style="text-align:right"><code>429</code></td><td style="text-align:left">Too Many Requests</td><td style="text-align:left">“用户在给定的时间内发送了太多请求（“限制请求速率”）。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc6585#section-4" target="_blank" rel="noopener">RFC6585#4</a></td></tr><tr><td style="text-align:right"><code>431</code></td><td style="text-align:left">Request Header Fields Too Large</td><td style="text-align:left">“服务器不愿意处理请求，因为它的 请求头字段太大（ Request Header Fields Too Large）。 请求可以在减小请求头字段的大小后重新提交.”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc6585#section-5" target="_blank" rel="noopener">RFC6585#5</a></td></tr><tr><td style="text-align:right"><code>451</code></td><td style="text-align:left">Unavailable For Legal Reasons</td><td style="text-align:left">“T用户请求非法资源，例如：由政府审查的网页。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status" target="_blank" rel="noopener">draft-ietf-httpbis-legally-restricted-status</a></td></tr><tr><td style="text-align:right"><code>506</code></td><td style="text-align:left">Variant Also Negotiates</td><td style="text-align:left">“服务器有一个内部配置错误：对请求的透明内容协商导致循环引用。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2295#section-8.1" target="_blank" rel="noopener">RFC2295#8.1</a></td></tr><tr><td style="text-align:right"><code>507</code></td><td style="text-align:left">Insufficient Storage</td><td style="text-align:left">“服务器有内部配置错误：所选的变体资源被配置为参与透明内容协商本身，因此不是协商过程中的适当端点。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc2518#section-10.6" target="_blank" rel="noopener">RFC5218#10.6</a></td></tr><tr><td style="text-align:right"><code>511</code></td><td style="text-align:left">Network Authentication Required</td><td style="text-align:left">“511 状态码指示客户端需要进行身份验证才能获得网络访问权限。”</td><td style="text-align:left"><a href="https://tools.ietf.org/html/rfc6585#section-6" target="_blank" rel="noopener">RFC6585#6</a></td></tr><tr><td style="text-align:right"><code>7xx</code></td><td style="text-align:left"><strong>Developer Error</strong></td><td style="text-align:left"><a href="http://www.urbandictionary.com/define.php?term=err" target="_blank" rel="noopener">err</a></td><td style="text-align:left"><a href="http://documentup.com/joho/7XX-rfc" target="_blank" rel="noopener">7xx-rfc</a></td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;http状态吗及解释，中文版&quot;&gt;&lt;a href=&quot;#http状态吗及解释，中文版&quot; class=&quot;headerlink&quot; title=&quot;http状态吗及解释，中文版&quot;&gt;&lt;/a&gt;http状态吗及解释，中文版&lt;/h2&gt;&lt;h3 id=&quot;1xx&quot;&gt;&lt;a href=&quot;#1x
      
    
    </summary>
    
      <category term="HTTP" scheme="http://www.wbug.cn/categories/HTTP/"/>
    
    
  </entry>
  
  <entry>
    <title>php使用curl时报错解决方法</title>
    <link href="http://www.wbug.cn/2018/11/21/phpCurlError/"/>
    <id>http://www.wbug.cn/2018/11/21/phpCurlError/</id>
    <published>2018-11-21T04:24:17.000Z</published>
    <updated>2018-11-21T04:30:44.398Z</updated>
    
    <content type="html"><![CDATA[<h1 id="问题总结"><a href="#问题总结" class="headerlink" title="问题总结"></a>问题总结</h1><h3 id="问：file-get-contents-开启https支持"><a href="#问：file-get-contents-开启https支持" class="headerlink" title="问：file_get_contents 开启https支持"></a>问：file_get_contents 开启https支持</h3><p>答：配置php.ini 开启php_openssl.dll 扩展，开启allow_url_fopen=On<br>代码部分：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$w = stream_get_wrappers();</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'openssl: '</span>,  extension_loaded  (<span class="string">'openssl'</span>) ? <span class="string">'yes'</span>:<span class="string">'no'</span>, <span class="string">"\n"</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'http wrapper: '</span>, in_array(<span class="string">'http'</span>, $w) ? <span class="string">'yes'</span>:<span class="string">'no'</span>, <span class="string">"\n"</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'https wrapper: '</span>, in_array(<span class="string">'https'</span>, $w) ? <span class="string">'yes'</span>:<span class="string">'no'</span>, <span class="string">"\n"</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'wrappers: '</span>, var_export($w);</span><br></pre></td></tr></table></figure></p><p>作用：用于检测配置项是否存在https;</p><h3 id="问：curl-抓取网站信息时，出现此错误：This-site-requires-JavaScript-and-Cookies-to-be-enabled"><a href="#问：curl-抓取网站信息时，出现此错误：This-site-requires-JavaScript-and-Cookies-to-be-enabled" class="headerlink" title="问：curl 抓取网站信息时，出现此错误：This site requires JavaScript and Cookies to be enabled."></a>问：curl 抓取网站信息时，出现此错误：This site requires JavaScript and Cookies to be enabled.</h3><p>答：修改curl 参数CURLOPT_USERAGENT为Google Bot，伪装成google bot去抓取<br>代码部分：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl_setopt($ch, CURLOPT_USERAGENT, <span class="string">"Google Bot"</span>);</span><br></pre></td></tr></table></figure></p><p>作用：伪装成谷歌机器去抓取页面信息</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;问题总结&quot;&gt;&lt;a href=&quot;#问题总结&quot; class=&quot;headerlink&quot; title=&quot;问题总结&quot;&gt;&lt;/a&gt;问题总结&lt;/h1&gt;&lt;h3 id=&quot;问：file-get-contents-开启https支持&quot;&gt;&lt;a href=&quot;#问：file-get-conte
      
    
    </summary>
    
      <category term="php" scheme="http://www.wbug.cn/categories/php/"/>
    
    
  </entry>
  
  <entry>
    <title>hexo deploy failed</title>
    <link href="http://www.wbug.cn/2018/05/19/hexo-deploy-failed/"/>
    <id>http://www.wbug.cn/2018/05/19/hexo-deploy-failed/</id>
    <published>2018-05-18T16:09:45.000Z</published>
    <updated>2018-11-21T04:00:03.329Z</updated>
    
    <content type="html"><![CDATA[<h2 id="question"><a href="#question" class="headerlink" title="question"></a>question</h2><hr><h3 id="INFO-Deploying-git"><a href="#INFO-Deploying-git" class="headerlink" title="INFO  Deploying: git"></a>INFO  Deploying: git</h3><h4 id="INFO-Clearing-deploy-folder…"><a href="#INFO-Clearing-deploy-folder…" class="headerlink" title="INFO  Clearing .deploy folder…"></a>INFO  Clearing .deploy folder…</h4><h4 id="FATAL-Something’s-wrong-Maybe-you-can-find-the-solution-here-http-hexo-io-docs-troubleshooting-html"><a href="#FATAL-Something’s-wrong-Maybe-you-can-find-the-solution-here-http-hexo-io-docs-troubleshooting-html" class="headerlink" title="FATAL Something’s wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.html"></a>FATAL Something’s wrong. Maybe you can find the solution here: <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">http://hexo.io/docs/troubleshooting.html</a></h4><h4 id="Error-EACCES-permission-denied-unlink-‘-home-yang-hexo-deploy-git-archives-index-html’"><a href="#Error-EACCES-permission-denied-unlink-‘-home-yang-hexo-deploy-git-archives-index-html’" class="headerlink" title="Error: EACCES: permission denied, unlink ‘/home/yang/hexo/.deploy_git/archives/index.html’"></a>Error: EACCES: permission denied, unlink ‘/home/yang/hexo/.deploy_git/archives/index.html’</h4><h4 id="FATAL-EACCES-permission-denied-open-‘-home-yang-hexo-db-json’"><a href="#FATAL-EACCES-permission-denied-open-‘-home-yang-hexo-db-json’" class="headerlink" title="FATAL EACCES: permission denied, open ‘/home/yang/hexo/db.json’"></a>FATAL EACCES: permission denied, open ‘/home/yang/hexo/db.json’</h4><h4 id="Error-EACCES-permission-denied-open-‘-home-yang-hexo-db-json’"><a href="#Error-EACCES-permission-denied-open-‘-home-yang-hexo-db-json’" class="headerlink" title="Error: EACCES: permission denied, open ‘/home/yang/hexo/db.json’"></a>Error: EACCES: permission denied, open ‘/home/yang/hexo/db.json’</h4><h3 id="answer"><a href="#answer" class="headerlink" title="* answer:"></a>* answer:</h3><h4 id="1-sudo-ssh-keygen-t-rsa-b-4096-C-“xxx-xxx-com“"><a href="#1-sudo-ssh-keygen-t-rsa-b-4096-C-“xxx-xxx-com“" class="headerlink" title="1. sudo ssh-keygen -t rsa -b 4096 -C “xxx@xxx.com“"></a>1. sudo ssh-keygen -t rsa -b 4096 -C “<a href="mailto:xxx@xxx.com" target="_blank" rel="noopener">xxx@xxx.com</a>“</h4><h4 id="2-copy-var-root-ssh-id-rsa-id-rsa-pub-gt-github-settings-SSH-and-GPG-keys-new-ssh-key"><a href="#2-copy-var-root-ssh-id-rsa-id-rsa-pub-gt-github-settings-SSH-and-GPG-keys-new-ssh-key" class="headerlink" title="2. copy /var/root/.ssh/id_rsa/id_rsa_pub -&gt; github/settings/SSH and GPG keys/new ssh key"></a>2. copy /var/root/.ssh/id_rsa/id_rsa_pub -&gt; github/settings/SSH and GPG keys/new ssh key</h4><h4 id="3-hexo-deploy"><a href="#3-hexo-deploy" class="headerlink" title="3. hexo deploy"></a>3. hexo deploy</h4><h4 id="answer2"><a href="#answer2" class="headerlink" title="* answer2:"></a>* answer2:</h4><h4 id="1-su-root"><a href="#1-su-root" class="headerlink" title="1. su root"></a>1. su root</h4><h4 id="3-hexo-deploy-1"><a href="#3-hexo-deploy-1" class="headerlink" title="3. hexo deploy"></a>3. hexo deploy</h4>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;question&quot;&gt;&lt;a href=&quot;#question&quot; class=&quot;headerlink&quot; title=&quot;question&quot;&gt;&lt;/a&gt;question&lt;/h2&gt;&lt;hr&gt;
&lt;h3 id=&quot;INFO-Deploying-git&quot;&gt;&lt;a href=&quot;#INFO-D
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>debian 9.4(stretch) install</title>
    <link href="http://www.wbug.cn/2018/05/17/debian-9-4-stretch-install/"/>
    <id>http://www.wbug.cn/2018/05/17/debian-9-4-stretch-install/</id>
    <published>2018-05-17T15:39:39.000Z</published>
    <updated>2018-11-21T04:14:09.814Z</updated>
    
    <content type="html"><![CDATA[<h2 id="debian-9-install-questions"><a href="#debian-9-install-questions" class="headerlink" title="debian 9 install questions"></a>debian 9 install questions</h2><table><thead><tr><th>Distributor ID</th><th>Desc</th><th>Third Realease</th></tr></thead><tbody><tr><td>Debian</td><td>CDebian GNU/Linux 9.4 (stretch)</td><td>9.4</td></tr></tbody></table><table><thead><tr><th>Command</th><th>showinfo</th><th>other</th></tr></thead><tbody><tr><td>uname -r</td><td>4.9.0-6-amd64</td><td>none</td></tr><tr><td>cat /proc/version</td><td>Linux version 4.9.0-6-amd64</td><td>(gcc 6.3.0 20170516(Debian 6.3.0-18+deb9u1)</td></tr></tbody></table><h2 id="question"><a href="#question" class="headerlink" title="question"></a>question</h2><h3 id="sys-kernel-debug-vgaswitcheroo-switch-No-such-file-or-directory"><a href="#sys-kernel-debug-vgaswitcheroo-switch-No-such-file-or-directory" class="headerlink" title="/sys/kernel/debug/vgaswitcheroo/switch: No such file or directory"></a>/sys/kernel/debug/vgaswitcheroo/switch: No such file or directory</h3><h4 id="answer"><a href="#answer" class="headerlink" title="answer"></a><em>answer</em></h4><h4 id="1-cat-sys-kernel-debug-vgaswitcheroo-switch-address-https-bbs-archlinuxcn-org-viewtopic-php-id-2993"><a href="#1-cat-sys-kernel-debug-vgaswitcheroo-switch-address-https-bbs-archlinuxcn-org-viewtopic-php-id-2993" class="headerlink" title="1. cat /sys/kernel/debug/vgaswitcheroo/switch address:https://bbs.archlinuxcn.org/viewtopic.php?id=2993,"></a>1. cat /sys/kernel/debug/vgaswitcheroo/switch address:<a href="https://bbs.archlinuxcn.org/viewtopic.php?id=2993" target="_blank" rel="noopener">https://bbs.archlinuxcn.org/viewtopic.php?id=2993</a>,</h4><h4 id="2-https-help-ubuntu-com-community-HybridGraphics"><a href="#2-https-help-ubuntu-com-community-HybridGraphics" class="headerlink" title="2. https://help.ubuntu.com/community/HybridGraphics,"></a>2. <a href="https://help.ubuntu.com/community/HybridGraphics" target="_blank" rel="noopener">https://help.ubuntu.com/community/HybridGraphics</a>,</h4><h4 id="3-https-askubuntu-comquestions-648426-discrete-graphics-always-dynoff"><a href="#3-https-askubuntu-comquestions-648426-discrete-graphics-always-dynoff" class="headerlink" title="3. https://askubuntu.comquestions/648426/discrete-graphics-always-dynoff"></a>3. <a href="https://askubuntu.comquestions/648426/discrete-graphics-always-dynoff" target="_blank" rel="noopener">https://askubuntu.comquestions/648426/discrete-graphics-always-dynoff</a></h4><h2 id="question-1"><a href="#question-1" class="headerlink" title="question"></a>question</h2><h3 id="ERROR-radeon-kernel-modesetting-for-R600-or-later-requires-firmware-amd-graphics"><a href="#ERROR-radeon-kernel-modesetting-for-R600-or-later-requires-firmware-amd-graphics" class="headerlink" title="ERROR radeon kernel modesetting for R600 or later requires firmware-amd-graphics."></a>ERROR radeon kernel modesetting for R600 or later requires firmware-amd-graphics.</h3><h4 id="answer-1"><a href="#answer-1" class="headerlink" title="answer"></a><em>answer</em></h4><h4 id="1-add-etc-apt-sources-list-deb-http-ftp-us-debian-org-debian-testing-main-non-free-contrib"><a href="#1-add-etc-apt-sources-list-deb-http-ftp-us-debian-org-debian-testing-main-non-free-contrib" class="headerlink" title="1. add /etc/apt/sources.list deb http://ftp.us.debian.org/debian/ testing main non-free contrib"></a>1. add /etc/apt/sources.list deb <a href="http://ftp.us.debian.org/debian/" target="_blank" rel="noopener">http://ftp.us.debian.org/debian/</a> testing main non-free contrib</h4><h4 id="2-deb-src-http-ftp-us-debian-org-debian-testing-main-non-free-contrib"><a href="#2-deb-src-http-ftp-us-debian-org-debian-testing-main-non-free-contrib" class="headerlink" title="2. deb-src http://ftp.us.debian.org/debian/ testing main non-free contrib"></a>2. deb-src <a href="http://ftp.us.debian.org/debian/" target="_blank" rel="noopener">http://ftp.us.debian.org/debian/</a> testing main non-free contrib</h4><h4 id="3-sudo-apt-get-update"><a href="#3-sudo-apt-get-update" class="headerlink" title="3. sudo apt-get update"></a>3. sudo apt-get update</h4><h4 id="4-sudo-apt-get-install-firmware-amd-graphics"><a href="#4-sudo-apt-get-install-firmware-amd-graphics" class="headerlink" title="4. sudo apt-get install firmware-amd-graphics"></a>4. sudo apt-get install firmware-amd-graphics</h4><h2 id="question-2"><a href="#question-2" class="headerlink" title="question"></a>question</h2><h3 id="grub-rescue"><a href="#grub-rescue" class="headerlink" title="grub rescue"></a>grub rescue</h3><h3 id="answer-2"><a href="#answer-2" class="headerlink" title="answer"></a><em>answer</em></h3><h4 id="1-ls"><a href="#1-ls" class="headerlink" title="1. ls"></a>1. ls</h4><h4 id="2-ls-hd0-x-boot-grub-or-hd1-x-boot-grub"><a href="#2-ls-hd0-x-boot-grub-or-hd1-x-boot-grub" class="headerlink" title="2. ls (hd0,x)/boot/grub or (hd1,x)/boot/grub"></a>2. ls (hd0,x)/boot/grub or (hd1,x)/boot/grub</h4><h4 id="3-set-root-hd0-5"><a href="#3-set-root-hd0-5" class="headerlink" title="3. set root=(hd0,5)"></a>3. set root=(hd0,5)</h4><h4 id="4-set-prefix-hd0-5-boot-grub"><a href="#4-set-prefix-hd0-5-boot-grub" class="headerlink" title="4. set prefix=(hd0,5)/boot/grub"></a>4. set prefix=(hd0,5)/boot/grub</h4><h4 id="5-set-insmod-boot-grub"><a href="#5-set-insmod-boot-grub" class="headerlink" title="5. set insmod /boot/grub"></a>5. set insmod /boot/grub</h4><h4 id="6-set-insmod-boot-grub"><a href="#6-set-insmod-boot-grub" class="headerlink" title="6. set insmod /boot/grub"></a>6. set insmod /boot/grub</h4><h4 id="7-sudo-update-grub"><a href="#7-sudo-update-grub" class="headerlink" title="7. sudo update-grub"></a>7. sudo update-grub</h4><h4 id="8-sudo-grub-install-dev-sda"><a href="#8-sudo-grub-install-dev-sda" class="headerlink" title="8. sudo grub-install /dev/sda"></a>8. sudo grub-install /dev/sda</h4>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;debian-9-install-questions&quot;&gt;&lt;a href=&quot;#debian-9-install-questions&quot; class=&quot;headerlink&quot; title=&quot;debian 9 install questions&quot;&gt;&lt;/a&gt;debian 9
      
    
    </summary>
    
      <category term="linux" scheme="http://www.wbug.cn/categories/linux/"/>
    
    
  </entry>
  
  <entry>
    <title>什么是CGI、FastCGI、PHP-CGI、PHP-FPM、Spawn-FCGI？</title>
    <link href="http://www.wbug.cn/2017/11/09/phpQues2/"/>
    <id>http://www.wbug.cn/2017/11/09/phpQues2/</id>
    <published>2017-11-09T14:52:24.000Z</published>
    <updated>2018-11-21T04:00:03.333Z</updated>
    
    <content type="html"><![CDATA[<h2 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h2><h3 id="CGI"><a href="#CGI" class="headerlink" title="CGI"></a>CGI</h3><p>CGI全称是“公共网关接口”(Common Gateway Interface)，HTTP服务器与你的或其它机器上的程序进行“交谈”的一种工具，<br>其程序须运行在网络服务器上。CGI可以用任何一种语言编写，只要这种语言具有标准输入、输出和环境变量。如php,<br>perl,tcl等<br>PS:是一种协议</p><h3 id="FastCGI"><a href="#FastCGI" class="headerlink" title="FastCGI"></a>FastCGI</h3><p>FastCGI像是一个常驻(long-live)型的CGI，它可以一直执行着，只要激活后，不会每次都要花费时间去fork一次(这是CGI<br>最为人诟病的fork-and-execute 模式)。它还支持分布式的运算, 即 FastCGI 程序可以在网站服务器以外的主机上执行并<br>且接受来自其它网站服务器来的请求。FastCGI是语言无关的、可伸缩架构的CGI开放扩展，其主要行为是将CGI解释器进程<br>保持在内存中并因此获得较高的性能。众所周知，CGI解释器的反复加载是CGI性能低下的主要原因，如果CGI解释器保持在<br>内存中并接受FastCGI进程管理器调度，则可以提供良好的性能、伸缩性、Fail- Over特性等等。<br>PS:同样是一种协议</p><h3 id="PHP-CGi"><a href="#PHP-CGi" class="headerlink" title="PHP-CGi"></a>PHP-CGi</h3><p>PHP-CGI是PHP自带的FastCGI管理器。<br>PS：PHP解释器</p><h3 id="PHP-FPM"><a href="#PHP-FPM" class="headerlink" title="PHP-FPM"></a>PHP-FPM</h3><p>PHP-FPM是一个PHP FastCGI管理器，是一个补丁，用于将fastCGI整合进php包中，php5.3.3后已经集成到php中，之前的版<br>本属于第三方包<br>PS：php-fpm是fastcgi进程的管理器，用来管理fastcgi进程的，它实现了Fastcgi的程序，被PHP官方收了</p><h3 id="Spawn-FCGI"><a href="#Spawn-FCGI" class="headerlink" title="Spawn-FCGI"></a>Spawn-FCGI</h3><p>Spawn-FCGI是一个通用的FastCGI管理服务器，它是lighttpd中的一部份，很多人都用Lighttpd的Spawn-FCGI进行FastCGI模<br>式下的管理工作<br>PS：一个通用的FastCGI管理服务器</p><h2 id="工作原理及联系"><a href="#工作原理及联系" class="headerlink" title="工作原理及联系"></a>工作原理及联系</h2><p>CGI：每当客户请求CGI的时候，WEB服务器就请求操作系统生成一个新的CGI解释器进程(如php-cgi.exe，CGI的一个进程则处<br>理完一个请求后退出，下一个请求来时再创建新进程。当然，这样在访问量很少没有并发的情况也行。可是当访问量增大并<br>发存在，这种方式就不 适合了。于是就有了fastcgi。<br>fastCGI：FastCGI像是一个常驻(long-live)型的CGI，它可以一直执行着，只要激活后，不会每次都要花费时间去fork一次<br>（这是CGI最为人诟病的fork-and-execute 模式）。</p><h4 id="FastCGI的工作原理"><a href="#FastCGI的工作原理" class="headerlink" title="FastCGI的工作原理"></a>FastCGI的工作原理</h4><p>1、Web Server启动时载入FastCGI进程管理器（IIS ISAPI或Apache Module)<br>2、FastCGI进程管理器自身初始化，启动多个CGI解释器进程(可见多个php-cgi)并等待来自Web Server的连接。<br>3、当客户端请求到达Web Server时，FastCGI进程管理器选择并连接到一个CGI解释器。Web server将CGI环境变量和标<br>准输入发送到FastCGI子进程php-cgi。<br>4、FastCGI子进程完成处理后将标准输出和错误信息从同一连接返回WebServer。当FastCGI子进程关闭连接时，请求便<br>告处理完成。FastCGI子进程接着等待并处理来自FastCGI进程管理器(运行在Web Server中)的下一个连接。 在CGI模式中，<br>php-cgi在此便退出了。<br>在上述情况中，你可以想象CGI通常有多慢。每一个Web请求PHP都必须重新解析php.ini、重新载入全部扩展并重初始化<br>全部数据结构。使用FastCGI，所有这些都只在进程启动时发生一次。一个额外的好处是，持续数据库连接可以工作。</p><h4 id="FastCGI的不足"><a href="#FastCGI的不足" class="headerlink" title="FastCGI的不足"></a>FastCGI的不足</h4><p>因为是多进程，所以比CGI多线程消耗更多的服务器内存，PHP-CGI解释器每进程消耗7至25兆内存，将这个数字乘以50或<br>100就是很大的内存数。Nginx 0.8.46+PHP 5.2.14(FastCGI)服务器在3万并发连接下，开启的10个Nginx进程消耗150M内存<br>（15M10=150M），开启的64个php-cgi进程消耗1280M内存（20M64=1280M），加上系统自身消耗的内存，总共消耗不到2GB<br>内存。如果服务器内存较小，完全可以只开启25个php-cgi进程，这样php-cgi消耗的总内存数才500M。</p><h4 id="PHP-CGI的不足"><a href="#PHP-CGI的不足" class="headerlink" title="PHP-CGI的不足"></a>PHP-CGI的不足</h4><p>1、php-cgi变更php.ini配置后需重启php-cgi才能让新的php-ini生效，不可以平滑重启<br>2、直接杀死php-cgi进程,php就不能运行了。(PHP-FPM和Spawn-FCGI就没有这个问题,守护进程会平滑从新生成新的子进程。）</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>首先，CGI是干嘛的？CGI是为了保证web server传递过来的数据是标准格式的，方便CGI程序的编写者。<br>web server（比如说nginx）只是内容的分发者。比如，如果请求index.html，那么webserver会去文件系统中找到这个文件<br>，发送给浏览器，这里分发的是静态数据。好了，如果现在请求的是/index.php，根据配置文件，nginx知道这个不是静态<br>文件，需要去找PHP解析器来处理，那么他会把这个请求简单处理后交给PHP解析器。Nginx会传哪些数据给PHP解析器呢？<br>url要有吧，查询字符串也得有吧，POST数据也要有，HTTP header不能少吧，好的，CGI就是规定要传哪些数据、以什么<br>样的格式传递给后方处理这个请求的协议。仔细想想，你在PHP代码中使用的用户从哪里来的。<br>　　当web server收到/index.php这个请求后，会启动对应的CGI程序，这里就是PHP的解析器。接下来PHP解析器会解<br>析php.ini文件，初始化执行环境，然后处理请求，再以规定CGI规定的格式返回处理后的结果，退出进程。web server<br>再把结果返回给浏览器。好了，CGI是个协议，跟进程什么的没关系。那fastcgi又是什么呢？Fastcgi是用来提高CGI程序<br>性能的。提高性能，那么CGI程序的性能问题在哪呢？”PHP解析器会解析php.ini文件，初始化执行环境”，就是这里了。<br>标准的CGI对每个请求都会执行这些步骤（不闲累啊！启动进程很累的说！），所以处理每个时间的时间会比较长。这明<br>显不合理嘛！那么Fastcgi是怎么做的呢？首先，Fastcgi会先启一个master，解析配置文件，初始化执行环境，然后再启<br>动多个worker。当请求过来时，master会传递给一个worker，然后立即可以接受下一个请求。这样就避免了重复的劳动，<br>效率自然是高。而且当worker不够用时，master可以根据配置预先启动几个worker等着；当然空闲worker太多时，也会<br>停掉一些，这样就提高了性能，也节约了资源。这就是fastcgi的对进程的管理。<br>那PHP-FPM又是什么呢？是一个实现了Fastcgi的程序，被PHP官方收了。<br>大家都知道，PHP的解释器是php-cgi。php-cgi只是个CGI程序，他自己本身只能解析请求，返回结果，不会进程管理<br>所以就出现了一些能够调度php-cgi进程的程序，比如说由lighthttpd分离出来的spawn-fcgi。好了PHP-FPM也是这么<br>个东东，在长时间的发展后，逐渐得到了大家的认可（要知道，前几年大家可是抱怨PHP-FPM稳定性太差的），也越来越流行。<br>参考地址：<br><a href="https://www.cnblogs.com/wanghetao/p/3934350.html" target="_blank" rel="noopener">https://www.cnblogs.com/wanghetao/p/3934350.html</a><br><a href="https://www.lvtao.net/tool/885.html" target="_blank" rel="noopener">https://www.lvtao.net/tool/885.html</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;名词解释&quot;&gt;&lt;a href=&quot;#名词解释&quot; class=&quot;headerlink&quot; title=&quot;名词解释&quot;&gt;&lt;/a&gt;名词解释&lt;/h2&gt;&lt;h3 id=&quot;CGI&quot;&gt;&lt;a href=&quot;#CGI&quot; class=&quot;headerlink&quot; title=&quot;CGI&quot;&gt;&lt;/a&gt;CG
      
    
    </summary>
    
      <category term="php" scheme="http://www.wbug.cn/categories/php/"/>
    
    
  </entry>
  
  <entry>
    <title>php线程安全与非线程安全问题</title>
    <link href="http://www.wbug.cn/2017/11/09/phpQues/"/>
    <id>http://www.wbug.cn/2017/11/09/phpQues/</id>
    <published>2017-11-09T14:39:46.000Z</published>
    <updated>2018-11-21T04:00:03.333Z</updated>
    
    <content type="html"><![CDATA[<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>究竟该如何选择PHP版本，什么是线程安全，什么又是非线程安全</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>线程安全：线程安全就是多线程访问时，采用了加锁机制，当一个线程访问该类的某个数据时，进行保护，其他线程不能进行访问直到该线程读取完，其他线程才可使用。不会出现数据不一致或者数据污染<br>非线程安全(即线程不安全)：线程不安全就是不提供数据访问保护，有可能出现多个线程先后更改数据造成所得到的数据是脏数据。</p><p>我选择哪个版本？</p><p>IIS<br>如果你使用的是PHP的FastCGI IIS，你应该使用非线程安全（NTS）版本的PHP。</p><p>Apache<br>请使用Apache Lounge提供的Apache构建。 他们提供了针对x86和x64的Apache的VC9，VC11和VC14版本。 我们使用他们的二进制文件构建Apache SAPI。</p><p>如果你使用PHP作为apache.org（不推荐）的Apache模块，你需要使用旧的Visual Studio 6编译的VC6版本的PHP。 不要使用apache.org二进制文件的VC9 +版本的PHP。</p><p>使用Apache，您必须使用Thread Safe（TS）版本的PHP。</p><p>解释如下：</p><p>从2000年10月20日发布的第一个Windows版的PHP3.0.17开始的都是线程安全的版本，这是由于与Linux/Unix系统是采用多进程的工作方式不同的是Windows系统是采用多线程的工作方式。如果在IIS下以CGI方式运行PHP会非常慢，这是由于CGI模式是建立在多进程的基础之上的，而非多线程。一般我们会把PHP配置成以ISAPI的方式来运行，ISAPI是多线程的方式，这样就快多了。但存在一个问题，很多常用的PHP扩展是以Linux/Unix的多进程思想来开发的，这些扩展在ISAPI的方式运行时就会出错搞垮IIS。因此在IIS下CGI模式才是PHP运行的最安全方式，但CGI模式对于每个HTTP请求都需要重新加载和卸载整个PHP环境，其消耗是巨大的。</p><p>为了兼顾IIS下PHP的效率和安全，微软给出了FastCGI的解决方案。FastCGI可以让PHP的进程重复利用而不是每一个新的请求就重开一个进程。同时FastCGI也可以允许几个进程同时执行。这样既解决了CGI进程模式消耗太大的问题，又利用上了CGI进程模式不存在线程安全问题的优势。</p><p>因此，如果是使用ISAPI的方式来运行PHP就必须用Thread Safe(线程安全)的版本；而用FastCGI模式运行PHP的话就没有必要用线程安全检查了，用None Thread Safe(NTS，非线程安全)的版本能够更好的提高效率。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;问题描述&quot;&gt;&lt;a href=&quot;#问题描述&quot; class=&quot;headerlink&quot; title=&quot;问题描述&quot;&gt;&lt;/a&gt;问题描述&lt;/h2&gt;&lt;p&gt;究竟该如何选择PHP版本，什么是线程安全，什么又是非线程安全&lt;/p&gt;
&lt;h2 id=&quot;解决方案&quot;&gt;&lt;a href=&quot;#解决方
      
    
    </summary>
    
      <category term="php" scheme="http://www.wbug.cn/categories/php/"/>
    
    
  </entry>
  
  <entry>
    <title>使用git时出现的错误整理</title>
    <link href="http://www.wbug.cn/2017/11/09/giterror/"/>
    <id>http://www.wbug.cn/2017/11/09/giterror/</id>
    <published>2017-11-09T14:29:03.000Z</published>
    <updated>2018-11-21T04:00:03.329Z</updated>
    
    <content type="html"><![CDATA[<p>##问题描述<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">warning: LF will be replaced by CRLF <span class="keyword">in</span> tags/sublime/index.html.</span><br></pre></td></tr></table></figure></p><h2 id="原因分析"><a href="#原因分析" class="headerlink" title="原因分析"></a>原因分析</h2><p>回车(CR, ASCII 13, \r) 换行(LF, ASCII 10, \n)。<br>这两个ACSII字符不会在屏幕有任何输出，但在Windows中广泛使用【CRLF】来标识一行的结束。而在Linux/UNIX系统中只有换行符。<br>也就是说在windows中的换行符为 CRLF， 而在linux下的换行符为：LF<br>因为git是基于unix的，默认为LF，而现在使用的是windows，所以会提示 LF呗替换为CRLF</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>删除刚刚生成的.git文件，代码<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ rm -rf .git  </span><br><span class="line">$ git config --gobal core.autocrlf <span class="literal">false</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;##问题描述&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;p
      
    
    </summary>
    
      <category term="git" scheme="http://www.wbug.cn/categories/git/"/>
    
    
  </entry>
  
  <entry>
    <title>安装hexo时提示错误，使用npm安装速度慢</title>
    <link href="http://www.wbug.cn/2017/11/09/hexoerror/"/>
    <id>http://www.wbug.cn/2017/11/09/hexoerror/</id>
    <published>2017-11-09T13:43:27.000Z</published>
    <updated>2018-11-21T04:00:03.329Z</updated>
    
    <content type="html"><![CDATA[<h2 id="错误描述"><a href="#错误描述" class="headerlink" title="错误描述"></a>错误描述</h2><p>英文：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm WARN deprecated swig@1.4.2:This package is no longer maintained</span><br></pre></td></tr></table></figure></p><p>翻译：npm WARN弃用<a href="mailto:swig@1.4.2" target="_blank" rel="noopener">swig@1.4.2</a>：这个包不再维护</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>使用国内安装源，这里使用淘宝的,命令如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure></p><p>使用国内的安装源后命令变为cnpm,如下：</p><h3 id="原来"><a href="#原来" class="headerlink" title="原来"></a>原来</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-cli -g</span><br><span class="line">$ npm install hexo-deployer-git </span><br><span class="line">$ hexo init</span><br><span class="line">$ npm install</span><br><span class="line">$ hexo g</span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure><h3 id="现在"><a href="#现在" class="headerlink" title="现在"></a>现在</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm install hexo-cli -g </span><br><span class="line">$ cnpm install hexo-deployer-git </span><br><span class="line">$ hexo init</span><br><span class="line">$ cnpm install</span><br><span class="line">$ hexo g</span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure><h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>如果我不想使用国内的镜像怎么办呢，那也很简单，命令如下<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm onfig edit</span><br></pre></td></tr></table></figure></p><p>找到<code>bash registry=https://registry.npm.taobao.org</code>将其注释即可</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;错误描述&quot;&gt;&lt;a href=&quot;#错误描述&quot; class=&quot;headerlink&quot; title=&quot;错误描述&quot;&gt;&lt;/a&gt;错误描述&lt;/h2&gt;&lt;p&gt;英文：&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gu
      
    
    </summary>
    
    
      <category term="hexo" scheme="http://www.wbug.cn/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>使用正则表达式批量替换冲突</title>
    <link href="http://www.wbug.cn/2016/08/07/regexprion/"/>
    <id>http://www.wbug.cn/2016/08/07/regexprion/</id>
    <published>2016-08-06T17:50:26.000Z</published>
    <updated>2018-11-21T04:00:03.336Z</updated>
    
    <content type="html"><![CDATA[<p>在使用git 时出现 文件大面积冲突 为避免麻烦 使用正则表达式进行批量替换</p><h2 id="总代码如下"><a href="#总代码如下" class="headerlink" title="总代码如下"></a>总代码如下</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(&lt;&lt;&lt;&lt;&lt;*\sHEAD([\n]*)|====*\s(.[\n]*)(.*[\n])+.*(4ec633df87926745360d68b4aad6e5dd06c17400))</span><br></pre></td></tr></table></figure><p>#拆分1 只匹配头部 也就是 &lt;&lt;&lt;&lt; HEAD 部分</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;&lt;&lt;&lt;&lt;*\sHEAD([\n]*)</span><br></pre></td></tr></table></figure><h2 id="拆分2-匹配尾部"><a href="#拆分2-匹配尾部" class="headerlink" title="拆分2 匹配尾部"></a>拆分2 匹配尾部</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">====*\s(.[\n]*)(.*[\n])+.*(4ec633df87926745360d68b4aad6e5dd06c17400)</span><br><span class="line"></span><br><span class="line">高亮部分为你的 版本号 根据自己的情况定</span><br></pre></td></tr></table></figure><blockquote><p>此为高亮部分 <code>4ec633df87926745360d68b4aad6e5dd06c17400</code> 可替换为你想要的任意类型</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;在使用git 时出现 文件大面积冲突 为避免麻烦 使用正则表达式进行批量替换&lt;/p&gt;
&lt;h2 id=&quot;总代码如下&quot;&gt;&lt;a href=&quot;#总代码如下&quot; class=&quot;headerlink&quot; title=&quot;总代码如下&quot;&gt;&lt;/a&gt;总代码如下&lt;/h2&gt;&lt;figure class=&quot;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>参考资料</title>
    <link href="http://www.wbug.cn/2016/08/06/supportarticle/"/>
    <id>http://www.wbug.cn/2016/08/06/supportarticle/</id>
    <published>2016-08-06T08:44:44.000Z</published>
    <updated>2018-11-21T04:00:03.339Z</updated>
    
    <content type="html"><![CDATA[<h1 id="博客资料站"><a href="#博客资料站" class="headerlink" title="博客资料站"></a>博客资料站</h1><p><a href="http://www.cnblogs.com/liulangmao/p/4323064.html" target="_blank" rel="noopener">hexo 搭建博客资料</a> </p><p><a href="https://pandao.github.io/editor.md/" target="_blank" rel="noopener">开源在线markdown编辑器</a></p><p><a href="http://www.jianshu.com/" target="_blank" rel="noopener">简书</a></p><p><a href="http://linuxtools-rst.readthedocs.io/" target="_blank" rel="noopener">linux命令</a></p><p><a href="http://www.ibm.com/developerworks/cn/linux/l-cpufreq-2/index.html" target="_blank" rel="noopener">linux耗电问题</a></p><p><a href="http://www.tuicool.com/" target="_blank" rel="noopener">推酷博客</a></p><p><a href="http://xstarcd.github.io/wiki/Linux/grub_install.html" target="_blank" rel="noopener">GRUB安装及错误</a></p><p><a href="https://xuanwo.org/2014/08/14/hexo-usual-problem/" target="_blank" rel="noopener">hexo </a></p><h1 id="技术官方-非官方站"><a href="#技术官方-非官方站" class="headerlink" title="技术官方/非官方站"></a>技术官方/非官方站</h1><p>[Markdown在线编辑器](<a href="https://www.zybuluo.com/mdeditor）" target="_blank" rel="noopener">https://www.zybuluo.com/mdeditor）</a></p><p><a href="http://cn.linux.vbird.org/" target="_blank" rel="noopener">鸟哥linux技术博客</a></p><p><a href="https://you-get.org/" target="_blank" rel="noopener">you-get很酷的一个工具</a></p><p><a href="http://wiki.ubuntu.org.cn/index.php?title=UbuntuSkills&amp;variant=zh-cni" target="_blank" rel="noopener">ubuntu命令说明</a></p><p><a href="http://fixmynix.com/install-and-configure-nvidia-optimus-with-bumblebee-in-debian/" target="_blank" rel="noopener">Nvidia for Debian</a></p><p><a href="http://www.tecmint.com/install-cmus-music-player-in-linux/" target="_blank" rel="noopener">cmus for linux</a></p><p><a href="http://vimwiki.github.io/" target="_blank" rel="noopener">vimwiki</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;博客资料站&quot;&gt;&lt;a href=&quot;#博客资料站&quot; class=&quot;headerlink&quot; title=&quot;博客资料站&quot;&gt;&lt;/a&gt;博客资料站&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/liulangmao/p/4323064.html&quot;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>php 之 composer 的JSON包的规范一</title>
    <link href="http://www.wbug.cn/2016/07/17/comp-architecture/"/>
    <id>http://www.wbug.cn/2016/07/17/comp-architecture/</id>
    <published>2016-07-17T11:01:42.000Z</published>
    <updated>2018-11-21T04:00:03.323Z</updated>
    
    <content type="html"><![CDATA[<h2 id="JSON-shema"><a href="#JSON-shema" class="headerlink" title="JSON shema"></a>JSON shema</h2><p>可以看这里 <a href="https://github.com/composer/composer/blob/master/res/composer-schema.json" target="_blank" rel="noopener">composer.json</a></p><h2 id="ROOT-包"><a href="#ROOT-包" class="headerlink" title="ROOT 包"></a>ROOT 包</h2><p>“root 包”是指由 <code>composer.json</code> 定义的在你项目根目录的包。这是 <code>composer.json</code>定义你项目所需的主要条件。（简单的说，你自己的项目就是一个 root 包）</p><ul><li>[x]  注意： 一个资源包是不是“root 包”，取决于它的上下文。 例：如果你的项目依赖 monolog 库，那么你的项目就是“root 包”。 但是，如果你从 GitHub 上克隆了 monolog 为它修复 bug， 那么此时 monolog 就是“root 包”。</li></ul><h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><hr><h3 id="包名-name"><a href="#包名-name" class="headerlink" title="包名 name"></a>包名 name</h3><p>包的名称，它包括供应商名称和项目名称，使用 <code>/</code>分隔。<br>例：</p><ul><li>monolog/monolog</li><li>prs/log</li></ul><h3 id="描述-description"><a href="#描述-description" class="headerlink" title="描述 description"></a>描述 description</h3><p>对于包的描述信息</p><h3 id="版本-version"><a href="#版本-version" class="headerlink" title="版本 version"></a>版本 version</h3><p>非必需，建议忽略 规范 符合 <code>&#39;x.y.z&#39;</code> or <code>vx.y.z</code> 后缀可加 <code>-dev</code> <code>-alpha</code> <code>-patch</code> <code>-beta</code> <code>-RC</code> 并且可附带数字<br>例:</p><ul><li>1.0.1</li><li>3.0.1-beta1</li><li>3.0.2-dev</li><li>2.0.1-alpha3</li><li>[x]  注意： Packagist 使用 VCS 仓库， 因此 version 定义的版本号必须是真实准确的。 自己手动指定的 version，最终有可能在某个时候因为人为错误造成问题。</li></ul><h3 id="类型-type"><a href="#类型-type" class="headerlink" title="类型 type"></a>类型 type</h3><p>composer 支持的类型如下：</p><ul><li>library: 这是默认类型，它会简单的将文件复制到 vendor 目录。</li><li>project: 这表示当前包是一个项目，而不是一个库。例：框架应用程序 Symfony standard edition，内容管理系统 SilverStripe installer 或者完全成熟的分布式应用程序。使用 IDE 创建一个新的工作区时，这可以为其提供项目列表的初始化。</li><li>metapackage: 当一个空的包，包含依赖并且需要触发依赖的安装，这将不会对系统写入额外的文件。因此这种安装类型并不需要一个 dist 或 source。</li><li>composer-plugin: 一个安装类型为 composer-plugin 的包，它有一个自定义安装类型，可以为其它包提供一个 installler。</li></ul><p><a href="https://github.com/5-say/composer-doc-cn/blob/master/cn-introduction/articles/custom-installers.md" target="_blank" rel="noopener">自定义案例</a></p><h3 id="关键词-keywords"><a href="#关键词-keywords" class="headerlink" title="关键词 keywords"></a>关键词 keywords</h3><p>包含相关的关键词的数组。这些可用于搜索和过滤。<br>例:</p><ul><li>logging</li><li>events</li><li>database</li><li>templating</li></ul><h3 id="项目主页-homepage"><a href="#项目主页-homepage" class="headerlink" title="项目主页 homepage"></a>项目主页 homepage</h3><p>该项目的地址： 如 <a href="http://127.0.0.1/" target="_blank" rel="noopener">http://127.0.0.1/</a></p><h3 id="版本发布时间-time"><a href="#版本发布时间-time" class="headerlink" title="版本发布时间 time"></a>版本发布时间 time</h3><p>必须符合 <code>YYYY-MM-DD</code> 或 <code>YYYY-MM-DD HH:MM:SS</code> 格式</p><h3 id="许可协议-license"><a href="#许可协议-license" class="headerlink" title="许可协议 license"></a>许可协议 license</h3><p>包的许可协议，它可以是一个字符串或者字符串数组。<br>例:</p><ul><li>LGPL-2.1</li><li>JSON</li><li>Apache-2.0</li><li>zlib</li><li>WXwindos</li><li>PHP-3.0.1</li><li>MIT<br>参见 <a href="http://spdx.org/licenses/" target="_blank" rel="noopener">许可协议</a><br>CODE：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"license"</span>: <span class="string">"MIT"</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"license"</span>: [</span><br><span class="line">       <span class="string">"PHP-3.0.1"</span>,</span><br><span class="line">       <span class="string">"PHP-3.0.3"</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"license"</span>: <span class="string">"(PHP-3.0.1 or PHP-3.0.3)"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="作者-author"><a href="#作者-author" class="headerlink" title="作者 author"></a>作者 author</h3><p>包的作者，是一个数组<br>属性如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"authors"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"name"</span>: <span class="string">"yang l"</span>,</span><br><span class="line">            <span class="string">"email"</span>: <span class="string">"youremail@gmail.com"</span>,</span><br><span class="line">            <span class="string">"homepage"</span>: <span class="string">"http://www.yourdomain.com"</span>,</span><br><span class="line">            <span class="string">"role"</span>: <span class="string">"Developer"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">        // 此处可增加额外的作者 格式同上</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="支持-support"><a href="#支持-support" class="headerlink" title="支持  support"></a>支持  support</h3><p>包的作者，是一个数组<br>属性如下：</p><ul><li>email: 项目支持 email 地址。</li><li>issues: 跟踪问题的 URL 地址。</li><li>forum: 论坛地址。</li><li>wiki: Wiki 地址。</li><li>irc: IRC 聊天频道地址，类似于 irc://server/channel。</li><li>source: 网址浏览或下载源<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"support"</span>: &#123;</span><br><span class="line">        <span class="string">"email"</span>: <span class="string">"support@example.org"</span>,</span><br><span class="line">        <span class="string">"irc"</span>: <span class="string">"irc://irc.freenode.org/composer"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="Package-links-包名到版本的映射"><a href="#Package-links-包名到版本的映射" class="headerlink" title="Package links 包名到版本的映射"></a>Package links 包名到版本的映射</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"require"</span>: &#123;</span><br><span class="line">        <span class="string">"monolog/monolog"</span>: <span class="string">"1.0.*"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>例：如果你想允许依赖一个不稳定的包，你可以在一个包的版本约束后使用它，或者是一个空的版本约束内使用它。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"require"</span>: &#123;</span><br><span class="line">        <span class="string">"monolog/monolog"</span>: <span class="string">"1.0.*@beta"</span>,</span><br><span class="line">        <span class="string">"acme/foo"</span>: <span class="string">"@dev"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>如果你的依赖之一，有对另一个不稳定包的依赖，你最好在 require 中显示的定义它，并带上足够详细的稳定性标识。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"require"</span>: &#123;</span><br><span class="line">        <span class="string">"doctrine/doctrine-fixtures-bundle"</span>: <span class="string">"dev-master"</span>,</span><br><span class="line">        <span class="string">"doctrine/data-fixtures"</span>: <span class="string">"@dev"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>require 和 require-dev 还支持对 dev（开发）对dev 版本的明确引用 以确保它们被锁定到一个给定的状态，即使你运行了更新命令。你只需要明确一个开发版本号，并带上诸如 #<ref> 的标识<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"require"</span>: &#123;</span><br><span class="line">        <span class="string">"monolog/monolog"</span>: <span class="string">"dev-master#2eb0c0978d290a1c45346a1955188929cb4e5db7"</span>,</span><br><span class="line">        <span class="string">"acme/foo"</span>: <span class="string">"1.0.x-dev#abc123"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></ref></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;JSON-shema&quot;&gt;&lt;a href=&quot;#JSON-shema&quot; class=&quot;headerlink&quot; title=&quot;JSON shema&quot;&gt;&lt;/a&gt;JSON shema&lt;/h2&gt;&lt;p&gt;可以看这里 &lt;a href=&quot;https://github.com/comp
      
    
    </summary>
    
    
      <category term="php" scheme="http://www.wbug.cn/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>php 之 composer 的JSON包的规范二</title>
    <link href="http://www.wbug.cn/2016/07/17/comp-architecture_2/"/>
    <id>http://www.wbug.cn/2016/07/17/comp-architecture_2/</id>
    <published>2016-07-17T11:01:42.000Z</published>
    <updated>2018-11-21T04:00:03.324Z</updated>
    
    <content type="html"><![CDATA[<h2 id="composer-json-包详解二"><a href="#composer-json-包详解二" class="headerlink" title="composer.json 包详解二"></a>composer.json 包详解二</h2><p>composer 自动加载器 及 资源库 配置等</p><h3 id="require"><a href="#require" class="headerlink" title="require"></a>require</h3><p>必须的软件包列表，除非这些依赖被满足，否则不会完成安装。</p><h3 id="require-dev-root-only"><a href="#require-dev-root-only" class="headerlink" title="require-dev (root-only)"></a>require-dev (root-only)</h3><p>这个列表是为开发或测试等目的，额外列出的依赖。“root 包”的 require-dev 默认是会被安装的。然而 install 或 update 支持使用 –no-dev 参数来跳过 require-dev 字段中列出的包。</p><h3 id="conflict"><a href="#conflict" class="headerlink" title="conflict"></a>conflict</h3><p>此列表中的包与当前包的这个版本冲突。它们将不允许同时被安装。</p><h3 id="replace"><a href="#replace" class="headerlink" title="replace"></a>replace</h3><p>这个列表中的包将被当前包取代。这使你可以 fork 一个包，以不同的名称和版本号发布，同时要求依赖于原包的其它包，在这之后依赖于你 fork 的这个包，因为它取代了原来的包。</p><h3 id="provide"><a href="#provide" class="headerlink" title="provide"></a>provide</h3><p>由该包提供的其他包的列表。这主要是有用的常见的接口。一个包可以依靠一些虚拟日志包</p><h3 id="suggest"><a href="#suggest" class="headerlink" title="suggest"></a>suggest</h3><p>建议安装的包 给你的用户一个建议，他们可以添加更多的包。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"suggest"</span>: &#123;</span><br><span class="line">        <span class="string">"monolog/monolog"</span>: <span class="string">"Allows more advanced logging of the application flow"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="自动加载-autoload"><a href="#自动加载-autoload" class="headerlink" title="自动加载 autoload"></a>自动加载 autoload</h3><p>PHP autoloader 的自动加载映射。</p><h3 id="PSR-0"><a href="#PSR-0" class="headerlink" title="PSR-0"></a>PSR-0</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"autoload"</span>: &#123;</span><br><span class="line">        <span class="string">"psr-0"</span>: &#123;</span><br><span class="line">            <span class="string">"Monolog\\"</span>: <span class="string">"src/"</span>,</span><br><span class="line">            <span class="string">"Vendor\\Namespace\\"</span>: <span class="string">"src/"</span>,</span><br><span class="line">            <span class="string">"Vendor_Namespace_"</span>: <span class="string">"src/"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="PSR-4"><a href="#PSR-4" class="headerlink" title="PSR-4"></a>PSR-4</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"autoload"</span>: &#123;</span><br><span class="line">        <span class="string">"psr-4"</span>: &#123;</span><br><span class="line">            <span class="string">"Monolog\\"</span>: <span class="string">"src/"</span>,</span><br><span class="line">            <span class="string">"Vendor\\Namespace\\"</span>: <span class="string">""</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Classmap"><a href="#Classmap" class="headerlink" title="Classmap"></a>Classmap</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"autoload"</span>: &#123;</span><br><span class="line">        <span class="string">"classmap"</span>: [<span class="string">"src/"</span>, <span class="string">"lib/"</span>, <span class="string">"Something.php"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="文件Files"><a href="#文件Files" class="headerlink" title="文件Files"></a>文件Files</h3><p>如果你想要明确的指定，在每次请求时都要载入某些文件，那么你可以使用 ‘files’ autoloading。通常作为函数库的载入方式（而非类库）。</p><p>实例：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"autoload"</span>: &#123;</span><br><span class="line">        <span class="string">"files"</span>: [<span class="string">"src/MyLibrary/functions.php"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="加载开发版本-只在root包下-autoload-dev-root-only"><a href="#加载开发版本-只在root包下-autoload-dev-root-only" class="headerlink" title="加载开发版本 只在root包下 autoload-dev (root-only)"></a>加载开发版本 只在root包下 autoload-dev (root-only)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"autoload"</span>: &#123;</span><br><span class="line">        <span class="string">"psr-4"</span>: &#123; <span class="string">"MyLibrary\\"</span>: <span class="string">"src/"</span> &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"autoload-dev"</span>: &#123;</span><br><span class="line">        <span class="string">"psr-4"</span>: &#123; <span class="string">"MyLibrary\\Tests\\"</span>: <span class="string">"tests/"</span> &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="include-path"><a href="#include-path" class="headerlink" title="include-path"></a>include-path</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"include-path"</span>: [<span class="string">"lib/"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="精确自动加载组件的目标目录-target-dir"><a href="#精确自动加载组件的目标目录-target-dir" class="headerlink" title="精确自动加载组件的目标目录 target-dir"></a>精确自动加载组件的目标目录 target-dir</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"autoload"</span>: &#123;</span><br><span class="line">        <span class="string">"psr-0"</span>: &#123; <span class="string">"Symfony\\Component\\Yaml\\"</span>: <span class="string">""</span> &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"target-dir"</span>: <span class="string">"Symfony/Component/Yaml"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="minimum-stability-root-only-最低稳定版本"><a href="#minimum-stability-root-only-最低稳定版本" class="headerlink" title="minimum-stability (root-only)  最低稳定版本"></a>minimum-stability (root-only)  最低稳定版本</h3><p>这定义了通过稳定性过滤包的默认行为。默认为 stable（稳定）。因此如果你依赖于一个 dev（开发）包，你应该明确的进行定义。</p><p>对每个包的所有版本都会进行稳定性检查，而低于 minimum-stability 所设定的最低稳定性的版本，将在解决依赖关系时被忽略。对于个别包的特殊稳定性要求，可以在 require 或 require-dev 中设定（请参考 Package links）。</p><p>可用的稳定性标识（按字母排序）：dev、alpha、beta、RC、stable。</p><h3 id="使用更加稳定的版本prefer-stable-root-only"><a href="#使用更加稳定的版本prefer-stable-root-only" class="headerlink" title="使用更加稳定的版本prefer-stable (root-only)"></a>使用更加稳定的版本prefer-stable (root-only)</h3><p>当此选项被激活时，Composer 将优先使用更稳定的包版本。</p><p>使用 “prefer-stable”: true 来激活它。</p><h3 id="repositories-root-only"><a href="#repositories-root-only" class="headerlink" title="repositories (root-only)"></a>repositories (root-only)</h3><p>使用自定义的包资源库 如果package list 没有的话 可以使用此项<br>只能在“Root包”的 composer.json 中定义。附属包中的 composer.json 将被忽略。<br>支持类型：</p><ul><li>composer: 一个 composer 类型的资源库，是一个简单的网络服务器（HTTP、FTP、SSH）上的 packages.json 文件，它包含一个 composer.json 对象的列表，有额外的 dist 和/或 source 信息。这个 packages.json 文件是用一个 PHP 流加载的。你可以使用 options 参数来设定额外的流信息。</li><li>vcs: 从 git、svn 和 hg 取得资源。</li><li>pear: 从 pear 获取资源。</li><li><p>package: 如果你依赖于一个项目，它不提供任何对 composer 的支持，你就可以使用这种类型。你基本上就只需要内联一个 composer.json 对象。<br>例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"repositories"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"type"</span>: <span class="string">"composer"</span>,</span><br><span class="line">            <span class="string">"url"</span>: <span class="string">"http://packages.example.com"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"type"</span>: <span class="string">"composer"</span>,</span><br><span class="line">            <span class="string">"url"</span>: <span class="string">"https://packages.example.com"</span>,</span><br><span class="line">            <span class="string">"options"</span>: &#123;</span><br><span class="line">                <span class="string">"ssl"</span>: &#123;</span><br><span class="line">                    <span class="string">"verify_peer"</span>: <span class="string">"true"</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"type"</span>: <span class="string">"vcs"</span>,</span><br><span class="line">            <span class="string">"url"</span>: <span class="string">"https://github.com/Seldaek/monolog"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"type"</span>: <span class="string">"pear"</span>,</span><br><span class="line">            <span class="string">"url"</span>: <span class="string">"http://pear2.php.net"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"type"</span>: <span class="string">"package"</span>,</span><br><span class="line">            <span class="string">"package"</span>: &#123;</span><br><span class="line">                <span class="string">"name"</span>: <span class="string">"smarty/smarty"</span>,</span><br><span class="line">                <span class="string">"version"</span>: <span class="string">"3.1.7"</span>,</span><br><span class="line">                <span class="string">"dist"</span>: &#123;</span><br><span class="line">                    <span class="string">"url"</span>: <span class="string">"http://www.smarty.net/files/Smarty-3.1.7.zip"</span>,</span><br><span class="line">                    <span class="string">"type"</span>: <span class="string">"zip"</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="string">"source"</span>: &#123;</span><br><span class="line">                    <span class="string">"url"</span>: <span class="string">"http://smarty-php.googlecode.com/svn/"</span>,</span><br><span class="line">                    <span class="string">"type"</span>: <span class="string">"svn"</span>,</span><br><span class="line">                    <span class="string">"reference"</span>: <span class="string">"tags/Smarty_3_1_7/distribution/"</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>[x] 注：顺序 自上而下 即下面的资源会覆盖上面的 如果有的话</p></li></ul><h3 id="配置项config-root-only"><a href="#配置项config-root-only" class="headerlink" title="配置项config (root-only)"></a>配置项config (root-only)</h3><p>支持以下选项：</p><ul><li>process-timeout: 默认为 300。处理进程结束时间，例如：git 克隆的时间。Composer 将放弃超时的任务。如果你的网络缓慢或者正在使用一个巨大的包，你可能要将这个值设置的更高一些。</li><li>use-include-path: 默认为 false。如果为 true，Composer autoloader 还将在 PHP include path 中继续查找类文件。</li><li>preferred-install: 默认为 auto。它的值可以是 source、dist 或 auto。这个选项允许你设置 Composer 的默认安装方法。</li><li>github-protocols: 默认为 [“git”, “https”, “ssh”]。从 github.com 克隆时使用的协议优先级清单，因此默认情况下将优先使用 git 协议进行克隆。你可以重新排列它们的次序，例如，如果你的网络有代理服务器或 git 协议的效率很低，你就可以提升 https 协议的优先级。</li><li>github-oauth: 一个域名和 oauth keys 的列表。 例如：使用 {“github.com”: “oauthtoken”} 作为此选项的值， 将使用 oauthtoken 来访问 github 上的私人仓库，并绕过 low IP-based rate 的 API 限制。 关联知识 关于如何获取 GitHub 的 OAuth token。</li><li>vendor-dir: 默认为 vendor。通过设置你可以安装依赖到不同的目录。</li><li>bin-dir: 默认为 vendor/bin。如果一个项目包含二进制文件，它们将被连接到这个目录。</li><li>cache-dir: unix 下默认为 $home/cache，Windows 下默认为 C:\Users\<user>\AppData\Local\Composer。用于存储 composer 所有的缓存文件。相关信息请查看 COMPOSER_HOME。</user></li><li>cache-files-dir: 默认为 $cache-dir/files。存储包 zip 存档的目录。</li><li>cache-repo-dir: 默认为 $cache-dir/repo。存储 composer 类型的 VCS（svn、github、bitbucket） repos 目录。</li><li>cache-vcs-dir: 默认为 $cache-dir/vcs。此目录用于存储 VCS 克隆的 git/hg 类型的元数据，并加快安装速度。</li><li>cache-files-ttl: 默认为 15552000（6个月）。默认情况下 Composer 缓存的所有数据都将在闲置6个月后被删除，这个选项允许你来调整这个时间，你可以将其设置为0以禁用缓存。</li><li>cache-files-maxsize: 默认为 300MiB。Composer 缓存的最大容量，超出后将优先清除旧的缓存数据，直到缓存量低于这个数值。</li><li>prepend-autoloader: 默认为 true。如果设置为 false，composer autoloader 将不会附加到现有的自动加载机制中。这有时候用来解决与其它自动加载机制产生的冲突。</li><li>autoloader-suffix: 默认为 null。Composer autoloader 的后缀，当设置为空时将会产生一个随机的字符串。<br>optimize-autoloader Defaults to false. Always optimize when dumping the autoloader.</li><li>github-domains: 默认为 [“github.com”]。一个 github mode 下的域名列表。这是用于GitHub的企业设置。</li><li>notify-on-install: 默认为 true。Composer 允许资源仓库定义一个用于通知的 URL，以便有人从其上安装资源包时能够得到一个反馈通知。此选项允许你禁用该行为。</li><li>discard-changes: 默认为 false，它的值可以是 true、false 或 stash。这个选项允许你设置在非交互模式下，当处理失败的更新时采用的处理方式。true 表示永远放弃更改。”stash” 表示继续尝试。Use this for CI servers or deploy scripts if you tend to have modified vendors.<br>例<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"config"</span>: &#123;</span><br><span class="line">        <span class="string">"bin-dir"</span>: <span class="string">"bin"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="scripts-root-only"><a href="#scripts-root-only" class="headerlink" title="scripts (root-only)"></a>scripts (root-only)</h3><p>Composer 允许你在安装过程中的各个阶段挂接脚本。</p><p>更多细节和案例请查看 <a href="https://github.com/5-say/composer-doc-cn/blob/master/cn-introduction/articles/scripts.md" target="_blank" rel="noopener">脚本</a>。</p><h3 id="extra"><a href="#extra" class="headerlink" title="extra"></a>extra</h3><p>任意的，供 scripts 使用的额外数据。.</p><p>这可以是几乎任何东西。若要从脚本事件访问处理程序，你可以这样做：</p><p>$extra = $event-&gt;getComposer()-&gt;getPackage()-&gt;getExtra();<br>可选。</p><h3 id="bin"><a href="#bin" class="headerlink" title="bin"></a>bin</h3><p>该属性用于标注一组应被视为二进制脚本的文件，他们会被软链接到（config 对象中的）bin-dir 属性所标注的目录，以供其他依赖包调用。</p><p>详细请查看 <a href="https://github.com/5-say/composer-doc-cn/blob/master/cn-introduction/articles/vendor-binaries.md" target="_blank" rel="noopener">Vendor Binaries</a></p><h3 id="rchive"><a href="#rchive" class="headerlink" title="rchive"></a>rchive</h3><p>这些选项在创建包存档时使用。</p><p>支持以下选项：</p><p>exclude: 允许设置一个需要被排除的路径的列表。使用与 .gitignore 文件相同的语法。一个前导的（!）将会使其变成白名单而无视之前相同目录的排除设定。前导斜杠只会在项目的相对路径的开头匹配。星号为通配符。<br>实例：</p><p>{<br>    “archive”: {<br>        “exclude”: [“/foo/bar”, “baz”, “/*.test”, “!/foo/bar/baz”]<br>    }<br>}</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;composer-json-包详解二&quot;&gt;&lt;a href=&quot;#composer-json-包详解二&quot; class=&quot;headerlink&quot; title=&quot;composer.json 包详解二&quot;&gt;&lt;/a&gt;composer.json 包详解二&lt;/h2&gt;&lt;p&gt;compos
      
    
    </summary>
    
    
      <category term="php" scheme="http://www.wbug.cn/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>php 之 composer 的命令二</title>
    <link href="http://www.wbug.cn/2016/07/13/comp-com_depends_/"/>
    <id>http://www.wbug.cn/2016/07/13/comp-com_depends_/</id>
    <published>2016-07-13T12:10:55.000Z</published>
    <updated>2018-11-21T04:00:03.324Z</updated>
    
    <content type="html"><![CDATA[<p>##依赖性检测 depends</p><p>说明：<br>depends 命令可以查出已安装在你项目中的某个包，是否正在被其它的包所依赖，并列出他们<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">composer depends  psr/<span class="built_in">log</span></span><br><span class="line"></span><br><span class="line">参数 如下</span><br><span class="line"></span><br><span class="line">depends [-r|--recursive] [-t|--tree] [--] &lt;package&gt; [&lt;constraint&gt;]</span><br></pre></td></tr></table></figure></p><p>##有效性检测 validate</p><p>说明:<br>在提交 composer.json 文件，和创建 tag 前，你应该始终运行 validate 命令。它将检测你的 composer.json 文件是否是有效的<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">php composer.phar validate</span><br><span class="line"></span><br><span class="line">参数：</span><br><span class="line"></span><br><span class="line">--no-check-all: Composer 是否进行完整的校验。</span><br></pre></td></tr></table></figure></p><p>##依赖包状态检测 status<br>说明：<br>如果你经常修改依赖包里的代码，并且它们是从 source（自定义源）进行安装的，那么 status 命令允许你进行检查，如果你有任何本地的更改它将会给予提示。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">composer status</span><br><span class="line">composer status -v</span><br><span class="line">composer status -vv</span><br><span class="line">composer status -vvv</span><br></pre></td></tr></table></figure></p><p>##自我更新composer  self-update or selfupdate<br>说明：<br>将 Composer 自身升级到最新版本，只需要运行 self-update 命令。它将替换你的 composer.phar 文件到最新版本<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">composer self-update</span><br><span class="line">&lt;!-- 更新到特定的版本 --&gt;</span><br><span class="line"></span><br><span class="line">comoser self-update 1.0.0-alpha7</span><br><span class="line"></span><br><span class="line">参数：</span><br><span class="line">--rollback (-r): 回滚到你已经安装的最后一个版本。</span><br><span class="line">--clean-backups: 在更新过程中删除旧的备份，这使得更新过后的当前版本是唯一可用的备份。</span><br></pre></td></tr></table></figure></p><p>##更改配置 config<br>说明：<br>config 命令允许你编辑 Composer 的一些基本设置，无论是本地的 composer.json 或者全局的 config.json 文件。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">composer config --list</span><br><span class="line"></span><br><span class="line">composer config secure-http <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">composer config github-domains [github.com,github.cn]</span><br><span class="line"></span><br><span class="line">&lt;!-- 修改包来源 --&gt;</span><br><span class="line">comoser config repositories.foo vcs http://github.com/foo/bar</span><br><span class="line"></span><br><span class="line">参数：</span><br><span class="line">--global (-g): </span><br><span class="line">&lt;!-- 操作位于 <span class="variable">$COMPOSER_HOME</span>/config.json 的全局配置文件。如果不指定该参数，此命令将影响当前项目的 composer.json 文件，或 --file 参数所指向的文件。 --&gt;</span><br><span class="line">--editor (-e): </span><br><span class="line">&lt;!-- 使用文本编辑器打开 composer.json 文件。默认情况下始终是打开当前项目的文件。当存在 --global 参数时，将会打开全局 composer.json 文件。 --&gt;</span><br><span class="line">--<span class="built_in">unset</span>: </span><br><span class="line">&lt;!-- 移除由 setting-key 指定名称的配置选项。 --&gt;</span><br><span class="line">--list (-l): </span><br><span class="line">&lt;!-- 显示当前配置选项的列表。当存在 --global 参数时，将会显示全局配置选项的列表。 --&gt;</span><br><span class="line">--file=<span class="string">"..."</span> (-f): </span><br><span class="line">&lt;!-- 在一个指定的文件上操作，而不是 composer.json。注意：不能与 --global 参数一起使用。 --&gt;</span><br></pre></td></tr></table></figure></p><p>##创建项目 create-project</p><p>说明：<br>你可以使用 Composer 从现有的包中创建一个新的项目。这相当于执行了一个 git clone 或 svn checkout 命令后将这个包的依赖安装到它自己的 vendor 目录。</p><p>此命令有几个常见的用途：</p><p>你可以快速的部署你的应用。<br>你可以检出任何资源包，并开发它的补丁。<br>多人开发项目，可以用它来加快应用的初始化。<br>要创建基于 Composer 的新项目，你可以使用 “create-project” 命令。传递一个包名，它会为你创建项目的目录。你也可以在第三个参数中指定版本号，否则将获取最新的版本。</p><p>如果该目录目前不存在，则会在安装过程中自动创建。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">composer create-project lavarel/laravel path 2.2.*</span><br><span class="line">composer create-project --prefer-dist laravel/laravel blog</span><br><span class="line"></span><br><span class="line">参数：</span><br><span class="line">--repository-url: 提供一个自定义的储存库来搜索包，这将被用来代替 packagist.org。可以是一个指向 composer 资源库的 HTTP URL，或者是指向某个 packages.json 文件的本地路径。</span><br><span class="line">--stability (-s): 资源包的最低稳定版本，默认为 stable。</span><br><span class="line">--prefer-source: 当有可用的包时，从 <span class="built_in">source</span> 安装。</span><br><span class="line">--prefer-dist: 当有可用的包时，从 dist 安装。</span><br><span class="line">--dev: 安装 require-dev 字段中列出的包。</span><br><span class="line">--no-install: 禁止安装包的依赖。</span><br><span class="line">--no-plugins: 禁用 plugins。</span><br><span class="line">--no-scripts: 禁止在根资源包中定义的脚本执行。</span><br><span class="line">--no-progress: 移除进度信息，这可以避免一些不处理换行的终端或脚本出现混乱的显示。</span><br><span class="line">--keep-vcs: 创建时跳过缺失的 VCS 。如果你在非交互模式下运行创建命令，这将是非常有用的。</span><br></pre></td></tr></table></figure><p>##打印自动加载 dump-autoload<br>说明：<br>某些情况下你需要更新 autoloader，例如在你的包中加入了一个新的类。你可以使用 dump-autoload 来完成，而不必执行 install 或 update 命令。<br>此外，它可以打印一个优化过的，符合 PSR-0/4 规范的类的索引，这也是出于对性能的可考虑。在大型的应用中会有许多类文件，而 autoloader 会占用每个请求的很大一部分时间，使用 classmaps 或许在开发时不太方便，但它在保证性能的前提下，仍然可以获得 PSR-0/4 规范带来的便利。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">composer dump-autoload</span><br><span class="line">参数：</span><br><span class="line">--optimize (-o): 转换 PSR-0/4 autoloading 到 classmap 获得更快的载入速度。这特别适用于生产环境，但可能需要一些时间来运行，因此它目前不是默认设置。</span><br><span class="line">--no-dev: 禁用 <span class="built_in">autoload</span>-dev 规则。</span><br></pre></td></tr></table></figure><p>#查看许可协议 licenses<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">composer licenses</span><br><span class="line">composer licenses --format=json</span><br><span class="line">composer license --format=json --no-dev</span><br></pre></td></tr></table></figure></p><p>#执行脚本 run-script<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">composer run-script  testscript</span><br><span class="line">&lt;!-- 说明 关于脚本请看后面的文章 --&gt;</span><br></pre></td></tr></table></figure></p><p>#诊断 diagnose<br>说明：<br>如果你觉得发现了一个 bug 或是程序行为变得怪异，你可能需要运行 diagnose 命令，来帮助你检测一些常见的问题<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer diagnose</span><br></pre></td></tr></table></figure></p><p>#归档 archive<br>说明：<br>此命令用来对指定包的指定版本进行 zip/tar 归档。它也可以用来归档你的整个项目，不包括 excluded/ignored（排除/忽略）的文件。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">composer archive vendor/package 2.0.21 --format=zip</span><br><span class="line">参数：</span><br><span class="line">--format (-f): 指定归档格式：tar 或 zip（默认为 tar）。</span><br><span class="line">--dir: 指定归档存放的目录（默认为当前目录）。</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;##依赖性检测 depends&lt;/p&gt;
&lt;p&gt;说明：&lt;br&gt;depends 命令可以查出已安装在你项目中的某个包，是否正在被其它的包所依赖，并列出他们&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutte
      
    
    </summary>
    
    
      <category term="php" scheme="http://www.wbug.cn/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>php 之 composer 的命令三</title>
    <link href="http://www.wbug.cn/2016/07/13/comp-com_env_/"/>
    <id>http://www.wbug.cn/2016/07/13/comp-com_env_/</id>
    <published>2016-07-13T12:10:55.000Z</published>
    <updated>2018-11-21T04:00:03.325Z</updated>
    
    <content type="html"><![CDATA[<p>##环境变量<br>说明：<br>你可以设置一些环境变量来覆盖默认的配置。建议尽可能的在 composer.json 的 config 字段中设置这些值，而不是通过命令行设置环境变量。值得注意的是环境变量中的值，将始终优先于 composer.json 中所指定的值。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">1.COMPOSER</span><br><span class="line"></span><br><span class="line">&lt;!-- 环境变量 COMPOSER 可以为 composer.json 文件指定其它的文件名。如 --&gt;</span><br><span class="line"></span><br><span class="line">COMPOSER=composer-other.json composer install</span><br><span class="line"></span><br><span class="line">2.COMPOSER_ROOT_VERSION</span><br><span class="line"></span><br><span class="line">&lt;!-- 通过设置这个环境变量，你可以指定 root 包的版本，如果程序不能从 VCS 上猜测出版本号，并且未在 composer.json 文件中申明。 --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3.COMPOSER_VENDOR_DIR</span><br><span class="line"></span><br><span class="line">&lt;!-- 通过设置这个环境变量，你可以指定 composer 将依赖安装在 vendor 以外的其它目录中。 --&gt;</span><br><span class="line"></span><br><span class="line">4.COMPOSER_BIN_DIR</span><br><span class="line"></span><br><span class="line">&lt;!-- 通过设置这个环境变量，你可以指定 bin（Vendor Binaries）目录到 vendor/bin 以外的其它目录。 --&gt;</span><br><span class="line"></span><br><span class="line">5.http_proxy or HTTP_PROXY</span><br><span class="line"></span><br><span class="line">&lt;!-- 如果你是通过 HTTP 代理来使用 Composer，你可以使用 http_proxy 或 HTTP_PROXY 环境变量。只要简单的将它设置为代理服务器的 URL。许多操作系统已经为你的服务设置了此变量。</span><br><span class="line"></span><br><span class="line">建议使用 http_proxy（小写）或者两者都进行定义。因为某些工具，像 git 或 curl 将使用 http_proxy 小写的版本。另外，你还可以使用 git config --global http.proxy &lt;proxy url&gt; 来单独设置 git 的代理。 --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">6.no_proxy</span><br><span class="line"></span><br><span class="line">&lt;!-- 如果你是使用代理服务器，并且想要对某些域名禁用代理，就可以使用 no_proxy 环境变量。只需要输入一个逗号相隔的域名 排除 列表。</span><br><span class="line"></span><br><span class="line">此环境变量接受域名、IP 以及 CIDR地址块。你可以将它限制到一个端口（例如：:80）。你还可以把它设置为 * 来忽略所有的 HTTP 代理请求。 --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">7.HTTP_PROXY_REQUEST_FULLURI</span><br><span class="line"></span><br><span class="line">&lt;!-- 如果你使用了 HTTP 代理，但它不支持 request_fulluri 标签，那么你应该设置这个环境变量为 <span class="literal">false</span> 或 0 ，来防止 composer 从 request_fulluri 读取配置。 --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">8.HTTPS_PROXY_REQUEST_FULLURI</span><br><span class="line"></span><br><span class="line">&lt;!-- 如果你使用了 HTTPS 代理，但它不支持 request_fulluri 标签，那么你应该设置这个环境变量为 <span class="literal">false</span> 或 0 ，来防止 composer 从 request_fulluri 读取配置。 --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">9.COMPOSER_HOME</span><br><span class="line"></span><br><span class="line">&lt;!-- COMPOSER_HOME 环境变量允许你改变 Composer 的主目录。这是一个隐藏的、所有项目共享的全局目录（对本机的所有用户都可用）。</span><br><span class="line"></span><br><span class="line">它在各个系统上的默认值分别为：</span><br><span class="line"></span><br><span class="line">*nix /home/&lt;user&gt;/.composer。</span><br><span class="line">OSX /Users/&lt;user&gt;/.composer。</span><br><span class="line">Windows C:\Users\&lt;user&gt;\AppData\Roaming\Composer。 --&gt;</span><br><span class="line"></span><br><span class="line">10.COMPOSER_HOME/config.json</span><br><span class="line"></span><br><span class="line">&lt;!-- 你可以在 COMPOSER_HOME 目录中放置一个 config.json 文件。在你执行 install 和 update 命令时，Composer 会将它与你项目中的 composer.json 文件进行合并。</span><br><span class="line"></span><br><span class="line">该文件允许你为用户的项目设置 配置信息 和 资源库。</span><br><span class="line"></span><br><span class="line">若 全局 和 项目 存在相同配置项，那么项目中的 composer.json 文件拥有更高的优先级。</span><br><span class="line"> --&gt;</span><br><span class="line"></span><br><span class="line">11.COMPOSER_CACHE_DIR</span><br><span class="line"></span><br><span class="line">&lt;!-- COMPOSER_CACHE_DIR 环境变量允许你设置 Composer 的缓存目录，这也可以通过 cache-dir 进行配置。</span><br><span class="line"></span><br><span class="line">它在各个系统上的默认值分别为：</span><br><span class="line"></span><br><span class="line">*nix and OSX <span class="variable">$COMPOSER_HOME</span>/cache。</span><br><span class="line">Windows C:\Users\&lt;user&gt;\AppData\Local\Composer 或 %LOCALAPPDATA%/Composer。</span><br><span class="line"></span><br><span class="line">COMPOSER_PROCESS_TIMEOUT</span><br><span class="line"></span><br><span class="line">这个环境变量控制着 Composer 执行命令的等待时间（例如：git 命令）。默认值为300秒（5分钟）。 --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">12.COMPOSER_DISCARD_CHANGES</span><br><span class="line"></span><br><span class="line">&lt;!-- 这个环境变量控制着 discard-changes config option。 --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">13.COMPOSER_NO_INTERACTION</span><br><span class="line"></span><br><span class="line">&lt;!-- 如果设置为1，这个环境变量将使 Composer 在执行每一个命令时都放弃交互，相当于对所有命令都使用了 --no-interaction。可以在搭建 虚拟机/持续集成服务器 时这样设置。 --&gt;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;##环境变量&lt;br&gt;说明：&lt;br&gt;你可以设置一些环境变量来覆盖默认的配置。建议尽可能的在 composer.json 的 config 字段中设置这些值，而不是通过命令行设置环境变量。值得注意的是环境变量中的值，将始终优先于 composer.json 中所指定的值。&lt;br
      
    
    </summary>
    
    
      <category term="php" scheme="http://www.wbug.cn/tags/php/"/>
    
  </entry>
  
</feed>
